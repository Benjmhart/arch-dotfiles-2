{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lodash-es/_root.js","webpack:///./node_modules/lodash-es/isBuffer.js","webpack:///./node_modules/lodash-es/_freeGlobal.js","webpack:///./node_modules/lodash-es/_nodeUtil.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/lodash-es/stubFalse.js","webpack:///./images/css-off.png","webpack:///./images/css-off-small.png","webpack:///./images/css-on.png","webpack:///./images/css-on-small.png","webpack:///./node_modules/fast-levenshtein/levenshtein.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/lodash-es/fromPairs.js","webpack:///./lib/environment/utils/messaging.js","webpack:///./lib/environment/utils/api.js","webpack:///./lib/environment/background/messaging.js","webpack:///./lib/environment/background/ajax.js","webpack:///./lib/environment/background/auth.js","webpack:///./lib/environment/background/download.js","webpack:///./lib/environment/background/history.js","webpack:///./node_modules/lodash-es/_Symbol.js","webpack:///./node_modules/lodash-es/_getRawTag.js","webpack:///./node_modules/lodash-es/_objectToString.js","webpack:///./node_modules/lodash-es/_baseGetTag.js","webpack:///./node_modules/lodash-es/isObject.js","webpack:///./node_modules/lodash-es/isFunction.js","webpack:///./node_modules/lodash-es/_coreJsData.js","webpack:///./node_modules/lodash-es/_isMasked.js","webpack:///./node_modules/lodash-es/_toSource.js","webpack:///./node_modules/lodash-es/_baseIsNative.js","webpack:///./node_modules/lodash-es/_getValue.js","webpack:///./node_modules/lodash-es/_getNative.js","webpack:///./node_modules/lodash-es/_defineProperty.js","webpack:///./node_modules/lodash-es/_baseAssignValue.js","webpack:///./node_modules/lodash-es/_createBaseFor.js","webpack:///./node_modules/lodash-es/_baseFor.js","webpack:///./node_modules/lodash-es/_baseTimes.js","webpack:///./node_modules/lodash-es/isObjectLike.js","webpack:///./node_modules/lodash-es/_baseIsArguments.js","webpack:///./node_modules/lodash-es/isArguments.js","webpack:///./node_modules/lodash-es/isArray.js","webpack:///./node_modules/lodash-es/_isIndex.js","webpack:///./node_modules/lodash-es/isLength.js","webpack:///./node_modules/lodash-es/_baseIsTypedArray.js","webpack:///./node_modules/lodash-es/_baseUnary.js","webpack:///./node_modules/lodash-es/isTypedArray.js","webpack:///./node_modules/lodash-es/_arrayLikeKeys.js","webpack:///./node_modules/lodash-es/_isPrototype.js","webpack:///./node_modules/lodash-es/_overArg.js","webpack:///./node_modules/lodash-es/_nativeKeys.js","webpack:///./node_modules/lodash-es/_baseKeys.js","webpack:///./node_modules/lodash-es/isArrayLike.js","webpack:///./node_modules/lodash-es/keys.js","webpack:///./node_modules/lodash-es/_baseForOwn.js","webpack:///./node_modules/lodash-es/_listCacheClear.js","webpack:///./node_modules/lodash-es/eq.js","webpack:///./node_modules/lodash-es/_assocIndexOf.js","webpack:///./node_modules/lodash-es/_listCacheDelete.js","webpack:///./node_modules/lodash-es/_listCacheGet.js","webpack:///./node_modules/lodash-es/_listCacheHas.js","webpack:///./node_modules/lodash-es/_listCacheSet.js","webpack:///./node_modules/lodash-es/_ListCache.js","webpack:///./node_modules/lodash-es/_stackClear.js","webpack:///./node_modules/lodash-es/_stackDelete.js","webpack:///./node_modules/lodash-es/_stackGet.js","webpack:///./node_modules/lodash-es/_stackHas.js","webpack:///./node_modules/lodash-es/_Map.js","webpack:///./node_modules/lodash-es/_nativeCreate.js","webpack:///./node_modules/lodash-es/_hashClear.js","webpack:///./node_modules/lodash-es/_hashDelete.js","webpack:///./node_modules/lodash-es/_hashGet.js","webpack:///./node_modules/lodash-es/_hashHas.js","webpack:///./node_modules/lodash-es/_hashSet.js","webpack:///./node_modules/lodash-es/_Hash.js","webpack:///./node_modules/lodash-es/_mapCacheClear.js","webpack:///./node_modules/lodash-es/_isKeyable.js","webpack:///./node_modules/lodash-es/_getMapData.js","webpack:///./node_modules/lodash-es/_mapCacheDelete.js","webpack:///./node_modules/lodash-es/_mapCacheGet.js","webpack:///./node_modules/lodash-es/_mapCacheHas.js","webpack:///./node_modules/lodash-es/_mapCacheSet.js","webpack:///./node_modules/lodash-es/_MapCache.js","webpack:///./node_modules/lodash-es/_stackSet.js","webpack:///./node_modules/lodash-es/_Stack.js","webpack:///./node_modules/lodash-es/_setCacheAdd.js","webpack:///./node_modules/lodash-es/_setCacheHas.js","webpack:///./node_modules/lodash-es/_SetCache.js","webpack:///./node_modules/lodash-es/_arraySome.js","webpack:///./node_modules/lodash-es/_cacheHas.js","webpack:///./node_modules/lodash-es/_equalArrays.js","webpack:///./node_modules/lodash-es/_Uint8Array.js","webpack:///./node_modules/lodash-es/_mapToArray.js","webpack:///./node_modules/lodash-es/_setToArray.js","webpack:///./node_modules/lodash-es/_equalByTag.js","webpack:///./node_modules/lodash-es/_arrayPush.js","webpack:///./node_modules/lodash-es/_baseGetAllKeys.js","webpack:///./node_modules/lodash-es/_arrayFilter.js","webpack:///./node_modules/lodash-es/stubArray.js","webpack:///./node_modules/lodash-es/_getSymbols.js","webpack:///./node_modules/lodash-es/_getAllKeys.js","webpack:///./node_modules/lodash-es/_equalObjects.js","webpack:///./node_modules/lodash-es/_DataView.js","webpack:///./node_modules/lodash-es/_Promise.js","webpack:///./node_modules/lodash-es/_Set.js","webpack:///./node_modules/lodash-es/_WeakMap.js","webpack:///./node_modules/lodash-es/_getTag.js","webpack:///./node_modules/lodash-es/_baseIsEqualDeep.js","webpack:///./node_modules/lodash-es/_baseIsEqual.js","webpack:///./node_modules/lodash-es/_baseIsMatch.js","webpack:///./node_modules/lodash-es/_isStrictComparable.js","webpack:///./node_modules/lodash-es/_getMatchData.js","webpack:///./node_modules/lodash-es/_matchesStrictComparable.js","webpack:///./node_modules/lodash-es/_baseMatches.js","webpack:///./node_modules/lodash-es/isSymbol.js","webpack:///./node_modules/lodash-es/_isKey.js","webpack:///./node_modules/lodash-es/memoize.js","webpack:///./node_modules/lodash-es/_memoizeCapped.js","webpack:///./node_modules/lodash-es/_stringToPath.js","webpack:///./node_modules/lodash-es/_arrayMap.js","webpack:///./node_modules/lodash-es/_baseToString.js","webpack:///./node_modules/lodash-es/toString.js","webpack:///./node_modules/lodash-es/_castPath.js","webpack:///./node_modules/lodash-es/_toKey.js","webpack:///./node_modules/lodash-es/_baseGet.js","webpack:///./node_modules/lodash-es/get.js","webpack:///./node_modules/lodash-es/_baseHasIn.js","webpack:///./node_modules/lodash-es/_hasPath.js","webpack:///./node_modules/lodash-es/hasIn.js","webpack:///./node_modules/lodash-es/_baseMatchesProperty.js","webpack:///./node_modules/lodash-es/identity.js","webpack:///./node_modules/lodash-es/_baseProperty.js","webpack:///./node_modules/lodash-es/_basePropertyDeep.js","webpack:///./node_modules/lodash-es/property.js","webpack:///./node_modules/lodash-es/_baseIteratee.js","webpack:///./node_modules/lodash-es/mapValues.js","webpack:///./locales/locales/index.js","webpack:///./locales/index.js","webpack:///./lib/environment/background/i18n.js","webpack:///./lib/environment/background/loadScript.js","webpack:///./lib/environment/background/localePersistor.js","webpack:///./lib/environment/background/multicast.js","webpack:///./lib/environment/background/pageAction.js","webpack:///./lib/environment/background/permissions.js","webpack:///./lib/environment/background/session.js","webpack:///./node_modules/lodash-es/last.js","webpack:///./node_modules/lodash-es/_baseSlice.js","webpack:///./node_modules/lodash-es/_parent.js","webpack:///./node_modules/lodash-es/_baseUnset.js","webpack:///./node_modules/lodash-es/_basePullAt.js","webpack:///./node_modules/lodash-es/remove.js","webpack:///./node_modules/lodash-es/_metaMap.js","webpack:///./node_modules/lodash-es/_baseSetData.js","webpack:///./node_modules/lodash-es/_baseCreate.js","webpack:///./node_modules/lodash-es/_createCtor.js","webpack:///./node_modules/lodash-es/_createBind.js","webpack:///./node_modules/lodash-es/_apply.js","webpack:///./node_modules/lodash-es/_composeArgs.js","webpack:///./node_modules/lodash-es/_composeArgsRight.js","webpack:///./node_modules/lodash-es/_countHolders.js","webpack:///./node_modules/lodash-es/_baseLodash.js","webpack:///./node_modules/lodash-es/_LazyWrapper.js","webpack:///./node_modules/lodash-es/noop.js","webpack:///./node_modules/lodash-es/_getData.js","webpack:///./node_modules/lodash-es/_realNames.js","webpack:///./node_modules/lodash-es/_getFuncName.js","webpack:///./node_modules/lodash-es/_LodashWrapper.js","webpack:///./node_modules/lodash-es/_copyArray.js","webpack:///./node_modules/lodash-es/_wrapperClone.js","webpack:///./node_modules/lodash-es/wrapperLodash.js","webpack:///./node_modules/lodash-es/_isLaziable.js","webpack:///./node_modules/lodash-es/_shortOut.js","webpack:///./node_modules/lodash-es/_setData.js","webpack:///./node_modules/lodash-es/_getWrapDetails.js","webpack:///./node_modules/lodash-es/_insertWrapDetails.js","webpack:///./node_modules/lodash-es/constant.js","webpack:///./node_modules/lodash-es/_baseSetToString.js","webpack:///./node_modules/lodash-es/_setToString.js","webpack:///./node_modules/lodash-es/_arrayEach.js","webpack:///./node_modules/lodash-es/_baseFindIndex.js","webpack:///./node_modules/lodash-es/_baseIsNaN.js","webpack:///./node_modules/lodash-es/_strictIndexOf.js","webpack:///./node_modules/lodash-es/_baseIndexOf.js","webpack:///./node_modules/lodash-es/_arrayIncludes.js","webpack:///./node_modules/lodash-es/_updateWrapDetails.js","webpack:///./node_modules/lodash-es/_setWrapToString.js","webpack:///./node_modules/lodash-es/_createRecurry.js","webpack:///./node_modules/lodash-es/_getHolder.js","webpack:///./node_modules/lodash-es/_reorder.js","webpack:///./node_modules/lodash-es/_replaceHolders.js","webpack:///./node_modules/lodash-es/_createHybrid.js","webpack:///./node_modules/lodash-es/_createCurry.js","webpack:///./node_modules/lodash-es/_createPartial.js","webpack:///./node_modules/lodash-es/_mergeData.js","webpack:///./node_modules/lodash-es/toNumber.js","webpack:///./node_modules/lodash-es/toFinite.js","webpack:///./node_modules/lodash-es/toInteger.js","webpack:///./node_modules/lodash-es/_createWrap.js","webpack:///./node_modules/lodash-es/curryRight.js","webpack:///./node_modules/lodash-es/before.js","webpack:///./node_modules/lodash-es/once.js","webpack:///./node_modules/lodash-es/now.js","webpack:///./node_modules/lodash-es/debounce.js","webpack:///./node_modules/lodash-es/_overRest.js","webpack:///./node_modules/lodash-es/_baseRest.js","webpack:///./node_modules/lodash-es/_baseIndexOfWith.js","webpack:///./node_modules/lodash-es/_basePullAll.js","webpack:///./node_modules/lodash-es/pullAll.js","webpack:///./node_modules/lodash-es/pull.js","webpack:///./lib/utils/generator.js","webpack:///./lib/utils/async.js","webpack:///./lib/environment/background/storage.js","webpack:///./lib/environment/background/tabs.js","webpack:///./lib/utils/Cache.js","webpack:///./lib/environment/background/xhrCache.js","webpack:///./lib/environment/background/ajax.js?f9d8","webpack:///./node_modules/lodash-es/_arrayIncludesWith.js","webpack:///./node_modules/lodash-es/_createSet.js","webpack:///./node_modules/lodash-es/_baseUniq.js","webpack:///./node_modules/lodash-es/uniqBy.js","webpack:///./node_modules/lodash-es/mapKeys.js","webpack:///./node_modules/lodash-es/_baseWhile.js","webpack:///./node_modules/lodash-es/takeRightWhile.js","webpack:///./lib/utils/time.js","webpack:///./node_modules/lodash-es/_arrayAggregator.js","webpack:///./node_modules/lodash-es/_createBaseEach.js","webpack:///./node_modules/lodash-es/_baseEach.js","webpack:///./node_modules/lodash-es/_baseAggregator.js","webpack:///./node_modules/lodash-es/_createAggregator.js","webpack:///./node_modules/lodash-es/partition.js","webpack:///./node_modules/lodash-es/_assignValue.js","webpack:///./node_modules/lodash-es/_baseSet.js","webpack:///./node_modules/lodash-es/_basePickBy.js","webpack:///./node_modules/lodash-es/_basePick.js","webpack:///./node_modules/lodash-es/_isFlattenable.js","webpack:///./node_modules/lodash-es/_baseFlatten.js","webpack:///./node_modules/lodash-es/flatten.js","webpack:///./node_modules/lodash-es/_flatRest.js","webpack:///./node_modules/lodash-es/pick.js","webpack:///./node_modules/lodash-es/_copyObject.js","webpack:///./node_modules/lodash-es/_isIterateeCall.js","webpack:///./node_modules/lodash-es/_createAssigner.js","webpack:///./node_modules/lodash-es/_nativeKeysIn.js","webpack:///./node_modules/lodash-es/_baseKeysIn.js","webpack:///./node_modules/lodash-es/keysIn.js","webpack:///./node_modules/lodash-es/assignIn.js","webpack:///./lib/utils/flow.js","webpack:///./lib/utils/dom.js","webpack:///./lib/utils/location.js","webpack:///./node_modules/lodash-es/isArrayLikeObject.js","webpack:///./node_modules/lodash-es/unzip.js","webpack:///./node_modules/lodash-es/unzipWith.js","webpack:///./node_modules/lodash-es/zipWith.js","webpack:///./lib/utils/html.js","webpack:///./lib/utils/string.js","webpack:///./lib/utils/user.js","webpack:///./lib/environment/foreground/context.js","webpack:///./lib/environment/foreground/messaging.js","webpack:///./lib/environment/foreground/privateBrowsing.js","webpack:///./lib/environment/foreground/history.js","webpack:///./lib/environment/foreground/xhrCache.js","webpack:///./lib/environment/foreground/ajax.js","webpack:///./lib/environment/foreground/download.js","webpack:///./lib/environment/foreground/id.js","webpack:///./lib/constants/localStorage.js","webpack:///./build/buildToken.js","webpack:///./lib/environment/foreground/i18n.js","webpack:///./lib/environment/foreground/loadScript.js","webpack:///./lib/environment/foreground/permissions.js","webpack:///./lib/environment/foreground/auth.js","webpack:///./lib/environment/foreground/multicast.js","webpack:///./lib/environment/foreground/tabs.js","webpack:///./lib/environment/foreground/pageAction.js","webpack:///./lib/environment/foreground/session.js","webpack:///./node_modules/lodash-es/_getPrototype.js","webpack:///./node_modules/lodash-es/transform.js","webpack:///./lib/utils/object.js","webpack:///./lib/environment/foreground/storage.js","webpack:///./lib/environment/index.js","webpack:///./lib/utils/array.js","webpack:///./lib/core/modules/storage.js","webpack:///./lib/core/module.js","webpack:///./lib/core/options/storage.js","webpack:///./node_modules/lodash-es/isEqual.js","webpack:///./lib/core/migrate/migrators.js","webpack:///./lib/core/migrate/migrate.js","webpack:///./lib/background.entry.js"],"names":["freeSelf","self","Object","root","freeGlobal","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","Buffer","undefined","nativeIsBuffer","isBuffer","stubFalse","global","freeProcess","process","nodeUtil","types","require","binding","e","originalModule","webpackPolyfill","create","children","defineProperty","enumerable","get","l","i","collator","Intl","Collator","sensitivity","err","console","log","prevRow","str2Char","Levenshtein","str1","str2","options","useCollator","str1Len","length","str2Len","curCol","nextCol","j","tmp","charCodeAt","strCmp","compare","charAt","String","fromCharCode","define","postMessage","importScripts","window","deprecate","paths","fromPairs","pairs","index","result","pair","MessageHandlerError","Error","constructor","message","stack","createMessageHandler","_sendMessage","errorOnUnrecognizedTypes","listeners","Map","_handleMessage","type","data","sendResponse","context","listener","error","response","Promise","then","sendMessage","newData","addListener","callback","has","set","apiToPromise","func","args","resolve","reject","results","chrome","runtime","lastError","tabs","obj","tabId","onMessage","sender","method","url","headers","credentials","rawResponse","fetch","body","ok","status","Array","from","entries","text","domain","clientId","scope","interactive","redirectUri","URL","searchParams","emulateAuthFlowInNewWindow","href","emulateAuthFlowInBackground","id","windows","updateListener","updates","startsWith","stopListening","remove","removeListener","onUpdated","onRemoved","headersListener","redirectUrl","webRequest","onBeforeRedirect","urls","filename","tab","incognito","downloads","download","history","addUrl","visits","getVisits","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","getRawTag","value","isOwn","call","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObject","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","RegExp","replace","baseIsNative","pattern","test","getValue","object","key","getNative","baseAssignValue","createBaseFor","fromRight","iteratee","keysFunc","iterable","props","baseFor","baseTimes","n","isObjectLike","argsTag","baseIsArguments","propertyIsEnumerable","isArguments","arguments","isArray","MAX_SAFE_INTEGER","reIsUint","isIndex","isLength","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","push","isPrototype","Ctor","proto","overArg","transform","arg","nativeKeys","baseKeys","isArrayLike","baseForOwn","listCacheClear","__data__","size","eq","other","assocIndexOf","array","arrayProto","splice","listCacheDelete","lastIndex","pop","listCacheGet","listCacheHas","listCacheSet","ListCache","clear","entry","stackClear","stackDelete","stackGet","stackHas","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","mapCacheClear","isKeyable","getMapData","map","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","LARGE_ARRAY_SIZE","stackSet","Stack","setCacheAdd","setCacheHas","SetCache","values","add","arraySome","predicate","cacheHas","cache","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","Uint8Array","mapToArray","forEach","setToArray","symbolTag","symbolProto","symbolValueOf","valueOf","equalByTag","byteLength","byteOffset","buffer","name","convert","arrayPush","offset","baseGetAllKeys","symbolsFunc","arrayFilter","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","getAllKeys","equalObjects","objProps","objLength","othProps","skipCtor","objValue","objCtor","othCtor","DataView","Set","WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","baseIsMatch","source","matchData","noCustomizer","srcValue","isStrictComparable","getMatchData","matchesStrictComparable","baseMatches","isSymbol","reIsDeepProp","reIsPlainProp","isKey","FUNC_ERROR_TEXT","memoize","resolver","TypeError","memoized","apply","Cache","MAX_MEMOIZE_SIZE","memoizeCapped","rePropName","reEscapeChar","stringToPath","string","match","number","quote","subString","arrayMap","INFINITY","symbolToString","baseToString","castPath","toKey","baseGet","path","defaultValue","baseHasIn","hasPath","hasFunc","hasIn","baseMatchesProperty","identity","baseProperty","basePropertyDeep","property","baseIteratee","mapValues","de","el","en","en_lolcat","en_pirate","en_CA","en_GB","es","es_419","he","it","nl_NL","pl","pt","pt_BR","pt_PT","redditLocaleToTransifexLocale","redditLocale","normalized","inx","indexOf","slice","toUpperCase","getLocaleDictionary","localeName","transifexLocale","mergedLocales","locales","x","locale","frameId","executeScript","file","runAt","lastRedditLocale","navigator","language","v","crossContext","CONTEXT_KEY","redditTabs","query","nonSelfTabsInSameContext","filter","all","pageAction","onClicked","operation","state","show","setIcon","cssOnSmall","cssOffSmall","cssOn","cssOff","setTitle","title","hide","handleMessage","permissions","origins","contains","request","catch","makePromptWindow","location","origin","JSON","stringify","width","height","left","Math","floor","screen","top","parse","session","delete","last","baseSlice","start","end","parent","baseUnset","basePullAt","indexes","previous","metaMap","baseSetData","objectCreate","baseCreate","createCtor","thisBinding","WRAP_BIND_FLAG","createBind","thisArg","wrapper","fn","nativeMax","max","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","composeArgsRight","holdersIndex","rightIndex","rightLength","countHolders","placeholder","baseLodash","MAX_ARRAY_LENGTH","LazyWrapper","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","noop","getData","realNames","getFuncName","otherFunc","LodashWrapper","chainAll","__chain__","__index__","__values__","copyArray","wrapperClone","clone","lodash","isLaziable","funcName","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","shortOut","count","lastCalled","stamp","remaining","setData","reWrapDetails","reSplitDetails","getWrapDetails","split","reWrapComment","insertWrapDetails","details","join","constant","baseSetToString","setToString","arrayEach","baseFindIndex","fromIndex","baseIsNaN","strictIndexOf","baseIndexOf","arrayIncludes","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","WRAP_FLIP_FLAG","wrapFlags","updateWrapDetails","sort","setWrapToString","reference","WRAP_CURRY_BOUND_FLAG","createRecurry","wrapFunc","argPos","ary","arity","isCurry","newHolders","newHoldersRight","newPartials","newPartialsRight","getHolder","nativeMin","min","reorder","oldArray","PLACEHOLDER","replaceHolders","createHybrid","partialsRight","holdersRight","isBindKey","holdersCount","reverse","createCurry","createPartial","mergeData","srcBitmask","newBitmask","isCommon","isCombo","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","isBinary","MAX_INTEGER","toFinite","sign","toInteger","remainder","createWrap","setter","curryRight","guard","before","once","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","overRest","otherArgs","baseRest","baseIndexOfWith","comparator","basePullAll","computed","pullAll","pull","range","zip","iterables","generators","iterator","gen","next","some","r","done","waitFor","interval","repeat","val","forEachChunked","queues","run","frameThrottle","performance","generator","return","collection","batch","delay","flushBeforeUnload","invoke","batchAccumulator","promises","addPromise","startNewBatch","timeout","throttle","lastPromise","currentBatch","addEventListener","always","promise","fastAsync","throwing","throw","Reflect","asyncFlow","firstFn","fns","accum","reifyPromise","keyedMutex","keyResolver","tail","mutex","queue","frameDebounce","update","requestAnimationFrame","a","res","rej","throttleQueuePositionReset","queued","idleThrottle","requestIdleCallback","__set","items","storage","local","_set","__get","_get","oldValue","newValue","storedValue","focusIndex","active","openerTabId","LRUCache","capacity","maxAge","Infinity","createTime","hitTime","b","arrayIncludesWith","createSet","baseUniq","includes","outer","seenIndex","uniqBy","mapKeys","baseWhile","isDrop","takeRightWhile","MINUTE","HOUR","DAY","WEEK","fromSecondsToTime","timeInSeconds","minutes","hours","unshift","part","padStart","arrayAggregator","accumulator","createBaseEach","eachFunc","baseEach","baseAggregator","createAggregator","initializer","partition","assignValue","baseSet","nested","basePickBy","basePick","spreadableSymbol","isConcatSpreadable","isFlattenable","baseFlatten","depth","isStrict","flatten","flatRest","pick","copyObject","isNew","isIterateeCall","createAssigner","assigner","sources","nativeKeysIn","baseKeysIn","isProto","keysIn","assignIn","downcast","ty","waitForEvent","ele","events","race","event","fire","removeEventListener","waitForChild","selector","child","find","matches","observer","MutationObserver","mutations","mutation","node","addedNodes","Node","ELEMENT_NODE","disconnect","HTMLElement","observe","childList","watchForChildren","watchForFutureChildren","waitForDescendant","querySelector","subtree","waitForFutureDescendant","added","removed","removedNodes","waitForAttach","waitForDetach","document","documentElement","watchForDescendants","ignoreChildrenIfAddedNodeMatches","querySelectorAll","watchForFutureDescendants","empty","lastChild","removeChild","click","button","dispatchEvent","MouseEvent","bubbles","cancelable","detail","screenX","screenY","clientX","clientY","isProgrammaticEvent","getViewportSize","visualViewport","viewportSizedElement","createElement","style","position","appendChild","getBoundingClientRect","elementInViewport","offsetParent","bottom","right","getViewportDimensions","headerOffset","getHeaderOffset","pageXOffset","pageYOffset","yOffset","getPercentageVisibleYAxis","rect","padBottom","element","scrollTop","viewportHeight","currentPadding","clientHeight","paddingRequired","scrollHeight","append","recentScroll","scrollInvokationToken","scrollToElement","to","scrollStyle","restrictDirectionTo","direction","selectedDirection","anchor","waitTillVisible","_scrollInvokationToken","diff","scrollBy","viewport","target","compensateHeader","scrollY","fromTop","newScrollY","viewportDirection","scollDirection","scrollTo","headerIds","fullWidth","partialWidth","_addHeaderId","elementId","includePartialWidthHeaders","getElementById","reduce","getD2xBodyOffset","offsetTop","addCSS","css","addStyle","textContent","head","preventCloning","attribute","elements","WeakSet","setAttribute","matchesPageLocation","excludes","includeStrings","includeRegExps","excludeStrings","excludeRegExps","isPageType","isAppType","matchesPageRegex","regexes","frontpage","comments","commentsLinklist","inbox","profile","profile2x","profileCommentsPage","submit","prefs","account","wiki","stylesheet","search","commentPermalink","duplicates","subreddit","subredditAbout","modqueue","multireddit","composeMessage","liveThread","execRegexes","appType","hasAttribute","getAttribute","thisApp","appPageTypes","r2","default","pageTypes","d2x","pageType","spec","pathname","thisPage","regexps","regex","currentSubreddit","isCurrentSubreddit","subreddits","sub","toLowerCase","currentMultireddit","isCurrentMultireddit","multireddits","multi","currentDomain","currentUserProfile","fullLocation","COMMENT_CODE_REGEX","isCommentCode","link","emptyText","isEmptyLink","inQuarantinedSubreddit","classList","isArrayLikeObject","unzip","group","unzipWith","zipWith","arrays","escapeLookups","escapeHTML","str","m","stringTagFunction","valueTransform","strings","s","encode","encodeURIComponent","escape","safe","__safe__","MAX_DISTANCE_RATIO","areSimilar","levenshtein","regexRegex","htmlTagFunction","html","markup","template","innerHTML","childElementCount","firstElementChild","_html","isLoggedIn","loggedInUser","documentLoggedInUser","findFirstTextNode","childNodes","concat","username","isModeratorAnywhere","loggedInUserHash","hashEle","HTMLInputElement","userInfo","loggedInUserInfo","modhash","ajax","usernameRE","usernameSelector","getUsernameFromLink","HTMLAnchorElement","endsWith","getUserInfo","cacheFor","userHash","establish","contentStart","protocol","hash","retrieveFromParent","assign","isPrivateBrowsing","extension","inIncognitoContext","addURLToHistory","isURLVisited","check","delete_","FetchError","sameOrigin","buildRequestParams","cached","XhrCache","processResponse","invalidate","siteOrigin","requestURL","sameSite","hostname","URLSearchParams","getExtensionId","getURL","getOptionsURL","isOptionsPage","CACHED_LANG_KEY","CACHED_MESSAGES_KEY","CACHED_MESSAGES_TOKEN_KEY","REDDIT_LANGUAGES","SPECIAL_LANGUAGES","isValidLocale","localeString","toLocaleString","getRedditLocale","messages","_loadI18n","localStorage","getItem","buildToken","setItem","removeItem","i18n","messageName","substitutions","loadScript","filterPerms","perms","p","granted","launchAuthFlow","warnUserInteraction","Permissions","resAuth","responseUrl","token","callbacks","multicast","localOnly","openNewTab","focus","openNewTabs","clickListeners","onClick","getPrototype","getPrototypeOf","isArrLike","extendDeep","_delete","_clear","withLockOn","getAll","getMultiple","defaults","k","setMultiple","valueMap","compareAndSet","patch","extended","patchShallow","deletePaths","stored","deleteMultiple","sentinel","random","Wrapper","def","_key","_default","deletePath","wrap","keyGenerator","PrefixWrapper","prefix","keyMapper","batching","_prefix","_keyMapper","getMultipleNullable","_keyGen","getNullable","everything","acc","rawValues","wrapPrefix","destructiveKeyMapper","BlobWrapper","rootKey","_rootKey","wrapBlob","forEachSeq","asyncFilter","shouldKeep","asyncReduce","initialValue","asyncFind","concurrentFold","baseCase","onResolve","onReject","asyncSome","asyncEvery","filterMap","mapped","Storage","setEnabled","moduleId","enable","Module","moduleID","moduleName","category","description","descriptionRaw","keywords","bodyClass","include","exclude","shouldRun","onToggle","onSaveSettings","hidden","disabledByDefault","alwaysEnabled","onInit","beforeLoad","go","afterLoad","requiredPermissions","getModuleId","opaqueId","loadRaw","optionKey","option","isEqual","updateOption","optionName","formerDefaultValue","valueOrFunction","Options","optionMatchesFormerDefaultValue","updateValue","forceUpdateOption","moveOption","oldModuleID","oldOptionName","newModuleID","newOptionName","moveStorageToOption","oldKey","migrations","versionNumber","Migrators","macroVersion","previewOptions","commentingAs","keyboardShortcuts","subredditAutocomplete","macros","macro","storedComments","newFormat","storedComment","urlSplit","thisID","userTags","updateTagStorageCaseInsensitive","substr","tags","usernames","lower","destination","votes","color","ignore","notificationsOptions","sticky","keyNavOptions","fg","focusFGColorNight","bg","focusBGColorNight","backgroundColor","fgCalculated","bgCalculated","updateFadeSpeed","isNaN","toFixed","rows","modId","notificationId","cacheKeyParts","sectionLinks","row","hideFloatingPauseButton","every","shouldHideTagline","filteredRows","notificationTypes","Modules","remappedTags","remappedEntries","launchFromMenu","hiddenThings","page","collapsedThings","updateTime","subscriptions","subscriptionDate","votesUp","votesDown","deleteProperty","ignored","selectedEntry","convertPatt","patt","f","visible","filters","criterion","customFilters","of","traverseAndUpdate","customFiltersP","customFiltersC","ondemand","opts","ignoredUsers","migrateFilters","effects","sideEffects","lastUsed","migrateRepair","allHidden","hardIgnoreOption","hardIgnore","usersMatchAction","instances","instance","firstRunStorage","versions","localeCompare","numerical","_migrationsToRun","getMigrationsToRun","migrate","currentMigration","lastMigratedVersion","getLastMigratedVersion","RESOptionsVersion","warn"],"mappings":"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","file":"background.entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 31);\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","module.exports = __webpack_public_path__ + \"css-off.png\";","module.exports = __webpack_public_path__ + \"css-off-small.png\";","module.exports = __webpack_public_path__ + \"css-on.png\";","module.exports = __webpack_public_path__ + \"css-on-small.png\";","(function() {\n  'use strict';\n  \n  var collator;\n  try {\n    collator = (typeof Intl !== \"undefined\" && typeof Intl.Collator !== \"undefined\") ? Intl.Collator(\"generic\", { sensitivity: \"base\" }) : null;\n  } catch (err){\n    console.log(\"Collator could not be initialized and wouldn't be used\");\n  }\n  // arrays to re-use\n  var prevRow = [],\n    str2Char = [];\n  \n  /**\n   * Based on the algorithm at http://en.wikipedia.org/wiki/Levenshtein_distance.\n   */\n  var Levenshtein = {\n    /**\n     * Calculate levenshtein distance of the two strings.\n     *\n     * @param str1 String the first string.\n     * @param str2 String the second string.\n     * @param [options] Additional options.\n     * @param [options.useCollator] Use `Intl.Collator` for locale-sensitive string comparison.\n     * @return Integer the levenshtein distance (0 and above).\n     */\n    get: function(str1, str2, options) {\n      var useCollator = (options && collator && options.useCollator);\n      \n      var str1Len = str1.length,\n        str2Len = str2.length;\n      \n      // base cases\n      if (str1Len === 0) return str2Len;\n      if (str2Len === 0) return str1Len;\n\n      // two rows\n      var curCol, nextCol, i, j, tmp;\n\n      // initialise previous row\n      for (i=0; i<str2Len; ++i) {\n        prevRow[i] = i;\n        str2Char[i] = str2.charCodeAt(i);\n      }\n      prevRow[str2Len] = str2Len;\n\n      var strCmp;\n      if (useCollator) {\n        // calculate current row distance from previous row using collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = 0 === collator.compare(str1.charAt(i), String.fromCharCode(str2Char[j]));\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      else {\n        // calculate current row distance from previous row without collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = str1.charCodeAt(i) === str2Char[j];\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      return nextCol;\n    }\n\n  };\n\n  // amd\n  if (typeof define !== \"undefined\" && define !== null && define.amd) {\n    define(function() {\n      return Levenshtein;\n    });\n  }\n  // commonjs\n  else if (typeof module !== \"undefined\" && module !== null && typeof exports !== \"undefined\" && module.exports === exports) {\n    module.exports = Levenshtein;\n  }\n  // web worker\n  else if (typeof self !== \"undefined\" && typeof self.postMessage === 'function' && typeof self.importScripts === 'function') {\n    self.Levenshtein = Levenshtein;\n  }\n  // browser main thread\n  else if (typeof window !== \"undefined\" && window !== null) {\n    window.Levenshtein = Levenshtein;\n  }\n}());\n\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nexport default fromPairs;\n","/* @flow */\n\ntype MessagePayload = {|\n\ttype: string,\n\tdata?: mixed,\n|};\n\ntype ResponsePayload = {|\n\tdata?: mixed,\n\terror?: {| message: string, stack: string |},\n|};\n\ntype InternalMessageSender<MsgCtx> = (msg: MessagePayload, context: MsgCtx) => Promise<ResponsePayload>;\n\ntype InternalMessageHandler<ListenerCtx> = (msg: MessagePayload, sendResponse: (response: ResponsePayload) => void, context: ListenerCtx) => boolean;\n\nexport type MessageSender<MsgCtx> = (type: string, data: mixed, context: MsgCtx) => Promise<any>;\n\nexport type AddListener<Ctx> = (type: string, callback: ListenerCallback<Ctx>) => void;\n\ntype ListenerCallback<Ctx> = (data: any, context: Ctx) => Promise<mixed> | mixed;\n\nclass MessageHandlerError extends Error {\n\tconstructor(message, stack) {\n\t\tsuper();\n\t\tthis.message = message;\n\t\tthis.stack = stack;\n\t}\n}\n\nexport function createMessageHandler<MsgCtx, ListenerCtx>(_sendMessage: InternalMessageSender<MsgCtx>, errorOnUnrecognizedTypes: boolean = false): {|\n\t_handleMessage: InternalMessageHandler<ListenerCtx>,\n\tsendMessage: MessageSender<MsgCtx>,\n\taddListener: AddListener<ListenerCtx>,\n|} {\n\tconst listeners = new Map();\n\n\tfunction addListener(type, callback) {\n\t\tif (listeners.has(type)) {\n\t\t\tthrow new Error(`Listener for \"${type}\" already exists.`);\n\t\t}\n\t\tlisteners.set(type, callback);\n\t}\n\n\tasync function sendMessage(type, data, context) {\n\t\tconst { data: newData, error } = await _sendMessage({ type, data }, context);\n\t\tif (error) {\n\t\t\tthrow new MessageHandlerError(error.message, `${error.stack}\\n    at target's \"${type}\" handler`);\n\t\t} else {\n\t\t\treturn newData;\n\t\t}\n\t}\n\n\tfunction _handleMessage({ type, data }, sendResponse, context) {\n\t\tconst listener = listeners.get(type);\n\t\tif (!listener) {\n\t\t\tif (errorOnUnrecognizedTypes) {\n\t\t\t\tsendResponse({ error: { message: `Unrecognised message type: ${type}`, stack: '' } });\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tlet response;\n\n\t\ttry {\n\t\t\tresponse = listener(data, context);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (response instanceof Promise) {\n\t\t\tresponse\n\t\t\t\t.then(\n\t\t\t\t\tdata => sendResponse({ data }),\n\t\t\t\t\te => {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t// true = response will be handled asynchronously (needed for Chrome)\n\t\t\treturn true;\n\t\t} else {\n\t\t\tsendResponse({ data: response });\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn {\n\t\t_handleMessage,\n\t\tsendMessage,\n\t\taddListener,\n\t};\n}\n","/* @flow */\n\nexport function apiToPromise(func: (...args: mixed[]) => void): (...args: mixed[]) => Promise<any> {\n\treturn (...args) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tfunc(...args, (...results) => {\n\t\t\t\tif (chrome.runtime.lastError) {\n\t\t\t\t\treject(new Error(chrome.runtime.lastError.message));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results.length > 1 ? results : results[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.tabs.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler((obj, tabId) => _sendMessage(tabId, obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse, sender));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nimport { fromPairs } from 'lodash-es';\nimport { addListener } from './messaging';\n\naddListener('ajax', async ({ method, url, headers, data, credentials }) => {\n\tconst rawResponse = await fetch(url, {\n\t\tmethod,\n\t\theaders,\n\t\tcredentials,\n\t\tbody: data,\n\t});\n\n\treturn {\n\t\tok: rawResponse.ok,\n\t\tstatus: rawResponse.status,\n\t\theaders: fromPairs(Array.from(rawResponse.headers.entries())),\n\t\ttext: await rawResponse.text(),\n\t};\n});\n","/* @flow */\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('authFlow', ({ domain, clientId, scope, interactive }) => {\n\tconst redirectUri = process.env.BUILD_TARGET === 'chrome' ? 'https://redditenhancementsuite.com/oauth' : chrome.identity.getRedirectURL();\n\tconst url = new URL(domain);\n\turl.searchParams.set('client_id', clientId);\n\turl.searchParams.set('scope', scope);\n\turl.searchParams.set('response_type', 'token');\n\turl.searchParams.set('redirect_uri', redirectUri);\n\n\tif (process.env.BUILD_TARGET === 'chrome') {\n\t\t// Chrome supports chrome.identity.launchAuthFlow.\n\t\t// However--and quite inexplicably--the auth process is performed in a separate context whose cookies\n\t\t// are cleared whenever the browser is restarted, making noninteractive auth pretty much useless.\n\t\t// Instead, fully emulate the flow in the main context, where users will remain logged in when\n\t\t// they expect to be, i.e., as long as they're logged into the main site.\n\t\t// As a bonus, we can use redditenhancementsuite.com as the redirect instead of chromiumapp.org.\n\t\tif (interactive) {\n\t\t\treturn emulateAuthFlowInNewWindow(url.href, redirectUri);\n\t\t} else {\n\t\t\treturn emulateAuthFlowInBackground(url.href);\n\t\t}\n\t} else if (process.env.BUILD_TARGET === 'firefox') {\n\t\t// Firefox correctly supports chrome.identity.launchAuthFlow.\n\t\treturn apiToPromise(chrome.identity.launchWebAuthFlow)({ url: url.href, interactive });\n\t}\n});\n\nasync function emulateAuthFlowInNewWindow(url: string, redirectUri: string): Promise<string> {\n\t// Emulate interactive auth.\n\t// Open a popup window, then track its progress with chrome.tabs,\n\t// succeeding if it navigates to our redirect URL, and failing if it's\n\t// closed before then.\n\tconst { tabs: [{ id }] } = await apiToPromise(chrome.windows.create)({ url, type: 'popup' });\n\n\treturn new Promise((resolve, reject) => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tif (updates.url && updates.url.startsWith(redirectUri)) {\n\t\t\t\tstopListening();\n\t\t\t\tresolve(updates.url);\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\treject(new Error('User cancelled or denied access.'));\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n\nfunction emulateAuthFlowInBackground(url: string): Promise<string> {\n\t// Emulate noninteractive auth.\n\t// Fetch the auth page. If the user is preauthorized, we will 302\n\t// to the redirect URL. However, because the token is passed in the hash,\n\t// and fetch/XHR responses don't include the hash, we must use the\n\t// webRequest API to read the redirect URL.\n\treturn new Promise((resolve, reject) => {\n\t\tfunction headersListener({ redirectUrl }) {\n\t\t\tstopListening();\n\t\t\tresolve(redirectUrl);\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.webRequest.onBeforeRedirect.removeListener(headersListener);\n\t\t}\n\n\t\tchrome.webRequest.onBeforeRedirect.addListener(headersListener, { urls: [url] });\n\n\t\tfetch(url, { credentials: 'include' })\n\t\t\t.then(() => {\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error('User interaction is required.'));\n\t\t\t}, e => {\n\t\t\t\tstopListening();\n\t\t\t\treject(new Error(`Authorization page could not be loaded: ${e.message}`));\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t});\n}\n","/* @flow */\n\nimport { addListener } from './messaging';\n\naddListener('download', ({ url, filename }, { tab: { incognito } }) => {\n\tchrome.downloads.download({ url, filename, ...(process.env.BUILD_TARGET === 'chrome' ? {} : { incognito }) });\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('addURLToHistory', url => {\n\tchrome.history.addUrl({ url });\n});\n\naddListener('isURLVisited', async url => {\n\tconst visits = await apiToPromise(chrome.history.getVisits)({ url });\n\treturn visits.length > 0;\n});\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","import baseAssignValue from './_baseAssignValue.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nexport default mapValues;\n","/* @flow */\n/* eslint-disable camelcase */\n\nimport de from './de';\nimport el from './el';\nimport en from './en';\nimport en_lolcat from './en@lolcat';\nimport en_pirate from './en@pirate';\nimport en_CA from './en_CA';\nimport en_GB from './en_GB';\nimport es from './es';\nimport es_419 from './es_419';\nimport he from './he';\nimport it from './it';\nimport nl_NL from './nl_NL';\nimport pl from './pl';\nimport pt from './pt';\nimport pt_BR from './pt_BR';\nimport pt_PT from './pt_PT';\n\nexport default {\n\tde,\n\tel,\n\ten,\n\ten_lolcat,\n\ten_pirate,\n\ten_CA,\n\ten_GB,\n\tes,\n\tes_419,\n\the,\n\tit,\n\tnl_NL,\n\tpl,\n\tpt,\n\tpt_BR,\n\tpt_PT,\n};\n","/* @flow */\n\nimport { mapValues } from 'lodash-es';\nimport locales from './locales';\n\n// `en-ca` -> `en_CA`\nfunction redditLocaleToTransifexLocale(redditLocale) {\n\tswitch (redditLocale) {\n\t\tcase 'leet':\n\t\t\treturn 'en'; // doesn't appear to exist\n\t\tcase 'lol':\n\t\t\treturn 'en_lolcat';\n\t\tcase 'pir':\n\t\t\treturn 'en_pirate';\n\t\tcase 'es-ar': // argentina\n\t\tcase 'es-cl': // chile\n\t\t\treturn 'es_419'; // latin america\n\t\tdefault: {\n\t\t\t// `es-ar` -> `es_ar`\n\t\t\tconst normalized = redditLocale.replace('-', '_');\n\t\t\tconst inx = normalized.indexOf('_');\n\t\t\tif (inx === -1) {\n\t\t\t\t// `zh` -> `zh`\n\t\t\t\treturn normalized;\n\t\t\t} else {\n\t\t\t\t// `en_au` -> `en_AU`\n\t\t\t\treturn `${normalized.slice(0, inx)}_${normalized.slice(inx + 1).toUpperCase()}`;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function getLocaleDictionary(localeName: string): { [string]: string } {\n\tconst transifexLocale = redditLocaleToTransifexLocale(localeName);\n\n\tconst mergedLocales = {\n\t\t// 3. Default (en)\n\t\t...locales.en,\n\t\t// 2. Match without region (en_CA -> en)\n\t\t...locales[transifexLocale.slice(0, transifexLocale.indexOf('_'))],\n\t\t// 1. Exact match (en_CA -> en_CA)\n\t\t...locales[transifexLocale],\n\t};\n\n\treturn mapValues(mergedLocales, x => x.message);\n}\n","/* @flow */\n\nimport { getLocaleDictionary } from '../../../locales';\nimport { addListener } from './messaging';\n\naddListener('i18n', locale => getLocaleDictionary(locale));\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('loadScript', async ({ url }, { tab: { id: tabId }, frameId }) => {\n\tawait apiToPromise(chrome.tabs.executeScript)(tabId, { file: url, frameId, runAt: 'document_start' });\n});\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nlet lastRedditLocale = navigator.language || 'en';\n\naddListener('getLastRedditLocale', () => lastRedditLocale);\naddListener('setLastRedditLocale', v => { lastRedditLocale = v; });\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener, sendMessage } from './messaging';\n\naddListener('multicast', async ({ name, args, crossContext }, sender) => {\n\t// Firefox has more than just (non)incognito, so we must limit to each cookieStoreId.\n\tconst CONTEXT_KEY = process.env.BUILD_TARGET === 'firefox' ? 'cookieStoreId' : 'incognito';\n\n\tconst redditTabs = await apiToPromise(chrome.tabs.query)({ url: 'https://*.reddit.com/*', status: 'complete' });\n\tconst nonSelfTabsInSameContext = redditTabs\n\t\t.filter(tab => (\n\t\t\t(sender.frameId || tab.id !== sender.tab.id) &&\n\t\t\t(crossContext || tab[CONTEXT_KEY] === sender.tab[CONTEXT_KEY])\n\t\t));\n\n\treturn Promise.all(nonSelfTabsInSameContext.map(({ id: tabId }) => sendMessage('multicast', { name, args }, tabId)));\n});\n","/* @flow */\n\nimport cssOff from '../../../images/css-off.png';\nimport cssOffSmall from '../../../images/css-off-small.png';\nimport cssOn from '../../../images/css-on.png';\nimport cssOnSmall from '../../../images/css-on-small.png';\nimport { addListener, sendMessage } from './messaging';\n\nchrome.pageAction.onClicked.addListener(tab => {\n\tsendMessage('pageActionClick', undefined, tab.id);\n});\n\naddListener('pageAction', ({ operation, state }, { tab }) => {\n\tswitch (operation) {\n\t\tcase 'show':\n\t\t\tchrome.pageAction.show(tab.id);\n\t\t\tchrome.pageAction.setIcon({\n\t\t\t\ttabId: tab.id,\n\t\t\t\tpath: { /* eslint-disable quote-props */\n\t\t\t\t\t'19': state ? cssOnSmall : cssOffSmall,\n\t\t\t\t\t'38': state ? cssOn : cssOff,\n\t\t\t\t},\n\t\t\t});\n\t\t\tchrome.pageAction.setTitle({\n\t\t\t\ttabId: tab.id,\n\t\t\t\ttitle: state ? 'Subreddit Style On' : 'Subreddit Style Off',\n\t\t\t});\n\t\t\tbreak;\n\t\tcase 'hide':\n\t\t\tchrome.pageAction.hide(tab.id);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid pageAction operation: ${operation}`);\n\t}\n});\n","/* @flow */\n\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\naddListener('permissions', handleMessage);\n\nexport function handleMessage({ operation, permissions, origins }: *) {\n\tswitch (operation) {\n\t\tcase 'contains':\n\t\t\treturn apiToPromise(chrome.permissions.contains)({ permissions, origins });\n\t\tcase 'request':\n\t\t\treturn apiToPromise(chrome.permissions.request)({ permissions, origins })\n\t\t\t\t.catch(() => makePromptWindow({ permissions, origins }));\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid permissions operation: ${operation}`);\n\t}\n}\n\nasync function makePromptWindow({ permissions, origins }) {\n\tconst url = new URL('prompt.html', location.origin);\n\turl.searchParams.set('permissions', JSON.stringify(permissions));\n\turl.searchParams.set('origins', JSON.stringify(origins));\n\n\tconst width = 630;\n\tconst height = 255;\n\t// Display popup on middle of screen\n\tconst left = Math.floor(screen.width / 2 - width / 2);\n\tconst top = Math.floor(screen.height / 2 - height / 2);\n\n\tconst { tabs: [{ id }] } = await apiToPromise(chrome.windows.create)({ url: url.href, type: 'popup', width, height, left, top });\n\n\treturn new Promise(resolve => {\n\t\tfunction updateListener(tabId, updates) {\n\t\t\tif (tabId !== id) return;\n\n\t\t\tconst url = updates.url && new URL(updates.url);\n\t\t\tif (url && url.searchParams.has('result')) {\n\t\t\t\tstopListening();\n\t\t\t\tconst result = url.searchParams.get('result');\n\t\t\t\tif (!result) return;\n\t\t\t\tresolve(JSON.parse(result));\n\t\t\t\tapiToPromise(chrome.tabs.remove)(id);\n\t\t\t}\n\t\t}\n\n\t\tfunction removeListener(tabId) {\n\t\t\tif (tabId !== id) return;\n\t\t\tstopListening();\n\t\t\tresolve(false);\n\t\t}\n\n\t\tfunction stopListening() {\n\t\t\tchrome.tabs.onUpdated.removeListener(updateListener);\n\t\t\tchrome.tabs.onRemoved.removeListener(removeListener);\n\t\t}\n\n\t\tchrome.tabs.onUpdated.addListener(updateListener);\n\t\tchrome.tabs.onRemoved.addListener(removeListener);\n\t});\n}\n","/* @flow */\n\nimport { addListener } from './messaging';\n\nconst session = new Map();\naddListener('session', ([operation, key, value]) => {\n\tswitch (operation) {\n\t\tcase 'get':\n\t\t\treturn session.get(key);\n\t\tcase 'set':\n\t\t\tsession.set(key, value);\n\t\t\tbreak;\n\t\tcase 'delete':\n\t\t\treturn session.delete(key);\n\t\tcase 'has':\n\t\t\treturn session.has(key);\n\t\tcase 'clear':\n\t\t\treturn session.clear();\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid session operation: ${operation}`);\n\t}\n});\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nexport default last;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","import baseGet from './_baseGet.js';\nimport baseSlice from './_baseSlice.js';\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nexport default parent;\n","import castPath from './_castPath.js';\nimport last from './last.js';\nimport parent from './_parent.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nexport default baseUnset;\n","import baseUnset from './_baseUnset.js';\nimport isIndex from './_isIndex.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nexport default basePullAt;\n","import baseIteratee from './_baseIteratee.js';\nimport basePullAt from './_basePullAt.js';\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nexport default remove;\n","import WeakMap from './_WeakMap.js';\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nexport default metaMap;\n","import identity from './identity.js';\nimport metaMap from './_metaMap.js';\n\n/**\n * The base implementation of `setData` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nexport default baseSetData;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nexport default createCtor;\n","import createCtor from './_createCtor.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nexport default createBind;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nexport default composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nexport default composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nexport default countHolders;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nexport default baseLodash;\n","import baseCreate from './_baseCreate.js';\nimport baseLodash from './_baseLodash.js';\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nexport default LazyWrapper;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","import metaMap from './_metaMap.js';\nimport noop from './noop.js';\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nexport default getData;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nexport default realNames;\n","import realNames from './_realNames.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nexport default getFuncName;\n","import baseCreate from './_baseCreate.js';\nimport baseLodash from './_baseLodash.js';\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nexport default LodashWrapper;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport copyArray from './_copyArray.js';\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nexport default wrapperClone;\n","import LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport baseLodash from './_baseLodash.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\nimport wrapperClone from './_wrapperClone.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nexport default lodash;\n","import LazyWrapper from './_LazyWrapper.js';\nimport getData from './_getData.js';\nimport getFuncName from './_getFuncName.js';\nimport lodash from './wrapperLodash.js';\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nexport default isLaziable;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseSetData from './_baseSetData.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = shortOut(baseSetData);\n\nexport default setData;\n","/** Used to match wrap detail comments. */\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\nexport default getWrapDetails;\n","/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length;\n  if (!length) {\n    return source;\n  }\n  var lastIndex = length - 1;\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\nexport default insertWrapDetails;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","import arrayEach from './_arrayEach.js';\nimport arrayIncludes from './_arrayIncludes.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256,\n    WRAP_FLIP_FLAG = 512;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', WRAP_ARY_FLAG],\n  ['bind', WRAP_BIND_FLAG],\n  ['bindKey', WRAP_BIND_KEY_FLAG],\n  ['curry', WRAP_CURRY_FLAG],\n  ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n  ['flip', WRAP_FLIP_FLAG],\n  ['partial', WRAP_PARTIAL_FLAG],\n  ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n  ['rearg', WRAP_REARG_FLAG]\n];\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\nexport default updateWrapDetails;\n","import getWrapDetails from './_getWrapDetails.js';\nimport insertWrapDetails from './_insertWrapDetails.js';\nimport setToString from './_setToString.js';\nimport updateWrapDetails from './_updateWrapDetails.js';\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nfunction setWrapToString(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n}\n\nexport default setWrapToString;\n","import isLaziable from './_isLaziable.js';\nimport setData from './_setData.js';\nimport setWrapToString from './_setWrapToString.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nexport default createRecurry;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nexport default getHolder;\n","import copyArray from './_copyArray.js';\nimport isIndex from './_isIndex.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nexport default reorder;\n","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nexport default replaceHolders;\n","import composeArgs from './_composeArgs.js';\nimport composeArgsRight from './_composeArgsRight.js';\nimport countHolders from './_countHolders.js';\nimport createCtor from './_createCtor.js';\nimport createRecurry from './_createRecurry.js';\nimport getHolder from './_getHolder.js';\nimport reorder from './_reorder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nexport default createHybrid;\n","import apply from './_apply.js';\nimport createCtor from './_createCtor.js';\nimport createHybrid from './_createHybrid.js';\nimport createRecurry from './_createRecurry.js';\nimport getHolder from './_getHolder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport root from './_root.js';\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nexport default createCurry;\n","import apply from './_apply.js';\nimport createCtor from './_createCtor.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nexport default createPartial;\n","import composeArgs from './_composeArgs.js';\nimport composeArgsRight from './_composeArgsRight.js';\nimport replaceHolders from './_replaceHolders.js';\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & WRAP_BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & WRAP_ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nexport default mergeData;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n","import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nexport default toInteger;\n","import baseSetData from './_baseSetData.js';\nimport createBind from './_createBind.js';\nimport createCurry from './_createCurry.js';\nimport createHybrid from './_createHybrid.js';\nimport createPartial from './_createPartial.js';\nimport getData from './_getData.js';\nimport mergeData from './_mergeData.js';\nimport setData from './_setData.js';\nimport setWrapToString from './_setWrapToString.js';\nimport toInteger from './toInteger.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nexport default createWrap;\n","import createWrap from './_createWrap.js';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_RIGHT_FLAG = 16;\n\n/**\n * This method is like `_.curry` except that arguments are applied to `func`\n * in the manner of `_.partialRight` instead of `_.partial`.\n *\n * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curryRight(abc);\n *\n * curried(3)(2)(1);\n * // => [1, 2, 3]\n *\n * curried(2, 3)(1);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(3)(1, _)(2);\n * // => [1, 2, 3]\n */\nfunction curryRight(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curryRight.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurryRight.placeholder = {};\n\nexport default curryRight;\n","import toInteger from './toInteger.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\nexport default before;\n","import before from './before.js';\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\nexport default once;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseIndexOfWith;\n","import arrayMap from './_arrayMap.js';\nimport baseIndexOf from './_baseIndexOf.js';\nimport baseIndexOfWith from './_baseIndexOfWith.js';\nimport baseUnary from './_baseUnary.js';\nimport copyArray from './_copyArray.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nexport default basePullAll;\n","import basePullAll from './_basePullAll.js';\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nexport default pullAll;\n","import baseRest from './_baseRest.js';\nimport pullAll from './pullAll.js';\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = baseRest(pullAll);\n\nexport default pull;\n","/* @flow */\n\nexport function* range(start: number, end: number): Iterable<number> {\n\tfor (let i = start; i < end; ++i) { // eslint-disable-line no-restricted-syntax\n\t\tyield i;\n\t}\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function zip<A>(a: Iterable<A>): Iterable<[A]>;\ndeclare function zip<A, B>(a: Iterable<A>, b: Iterable<B>): Iterable<[A, B]>;\ndeclare function zip<A, B, C>(a: Iterable<A>, b: Iterable<B>, c: Iterable<C>): Iterable<[A, B, C]>;\n/* eslint-enable no-unused-vars */\n\nexport function* zip(...iterables) {\n\tconst generators = iterables.map(it => it[Symbol.iterator]());\n\tlet results;\n\n\twhile ((results = generators.map(gen => gen.next())).some(r => !r.done)) {\n\t\tyield results.map(r => r.value);\n\t}\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport { pull, debounce, once, curryRight, remove } from 'lodash-es';\nimport { zip } from './generator';\n\nexport function waitFor<T>(callback: () => ?T, interval?: number = 1): Promise<T> {\n\treturn new Promise(resolve => {\n\t\t(function repeat() {\n\t\t\tconst val = callback();\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(repeat, interval);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(val);\n\t\t})();\n\t});\n}\n\n/*\n Iterate through an array in chunks, executing a callback on each element.\n Each chunk is handled asynchronously from the others with a delay betwen each batch.\n This will change the timeout dynamically based on current screen performance in an effort\n to work as fast as possibly without blocking the screen.\n */\n\nexport const forEachChunked = (() => {\n\tconst framerate = 30;\n\tconst frameTime = 1000 / framerate;\n\n\tconst queues = [];\n\n\tconst run = frameThrottle(() => {\n\t\tconst start = performance.now();\n\t\tdo {\n\t\t\tremove(queues, ({ generator, callback, resolve, reject }): boolean | void => {\n\t\t\t\tconst { value, done } = generator.next();\n\n\t\t\t\tif (done) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(value);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (generator.return) generator.return();\n\t\t\t\t\treject(e);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// stop if there are no queues left\n\t\t\tif (!queues.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} while (performance.now() - start < frameTime);\n\t\trun();\n\t});\n\n\treturn curryRight(<T>(collection: Iterable<T>, callback: (x: T) => void) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst iterable = (Symbol.iterator in collection) ? collection : Array.from(collection); // eslint-disable-line no-restricted-syntax\n\t\t\t// $FlowIssue https://github.com/facebook/flow/issues/1163, https://github.com/facebook/flow/issues/1015\n\t\t\tqueues.push({ generator: iterable[Symbol.iterator](), callback, resolve, reject });\n\t\t\trun();\n\t\t}),\n\t);\n})();\n\n/*\n * Will accumulate values until `size` elements are accumulated or `delay` milliseconds pass.\n * `callback` accepts an array of batched values and should return an array of results **in the same order**.\n * If it throws, all promises will be rejected with the same error.\n * If one of the results is an instance of `Error`, the corresponding promise will be rejected with that error.\n */\nexport function batch<T, V>(callback: (xs: T[]) => Promise<Iterable<Error | Promise<V> | V> | void> | void, { size = 100, delay = 50, flushBeforeUnload = false }: {| size?: number, delay?: number, flushBeforeUnload?: boolean |} = {}): (x: T) => Promise<V> {\n\tlet invoke;\n\n\tfunction* batchAccumulator() {\n\t\tconst entries = [];\n\t\tconst promises = [];\n\n\t\tfunction addPromise(): Promise<V> {\n\t\t\tif (entries.length) {\n\t\t\t\treturn new Promise((resolve, reject) => { promises.push({ resolve, reject }); });\n\t\t\t} else {\n\t\t\t\treturn (undefined: any); // dummy - never observed\n\t\t\t}\n\t\t}\n\n\t\tinvoke = once(async () => {\n\t\t\tstartNewBatch();\n\t\t\tif (!entries.length) return;\n\t\t\ttry {\n\t\t\t\tconst results = await callback(entries) || [];\n\t\t\t\tfor (const [{ resolve, reject }, result] of zip(promises, results)) {\n\t\t\t\t\tif (result instanceof Error) reject(result);\n\t\t\t\t\telse resolve(result);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tfor (const { reject } of promises) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst timeout = delay ? debounce(invoke, delay) : throttle(invoke);\n\n\t\twhile (entries.length < size) {\n\t\t\tconst entry = yield addPromise();\n\t\t\tif (entry === undefined) throw new Error('undefined passed into batch generator');\n\t\t\tentries.push(entry);\n\t\t\ttimeout();\n\t\t}\n\n\t\tconst lastPromise = addPromise();\n\t\tinvoke();\n\t\tyield lastPromise;\n\t}\n\n\tlet currentBatch;\n\n\tfunction startNewBatch() {\n\t\tcurrentBatch = batchAccumulator();\n\t\tcurrentBatch.next(); // prime the generator, so the first `.next(value)` isn't lost\n\t}\n\n\tstartNewBatch();\n\n\tif (flushBeforeUnload) window.addEventListener('beforeunload', () => { invoke(); }, true);\n\n\treturn entry => {\n\t\tconst { value } = currentBatch.next(entry);\n\t\tif (value === undefined) throw new Error('Batch generator was not replaced after completion');\n\t\treturn value;\n\t};\n}\n\nfunction always<T>(promise: Promise<T>, callback: (x: T) => Promise<void> | void): Promise<void> {\n\treturn promise.then(callback, callback);\n}\n\n// Like _asyncToGenerator, but calls back into the generator synchronously if the value is not a promise\n// unless you're certain that you need to avoid asynchronicity at all costs, just use an async function\nexport function fastAsync<A, B, C, D, E, F, G, R>(\n\tcallback: (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => Generator<any, R, any>,\n): (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => R | Promise<R> {\n\treturn function(...args) {\n\t\treturn (function next(generator, arg, throwing) {\n\t\t\tconst { value, done } = !throwing ? generator.next(arg) : generator.throw(arg);\n\n\t\t\tif (done) {\n\t\t\t\treturn value;\n\t\t\t} else if (!(value instanceof Promise)) {\n\t\t\t\treturn next(generator, value, false);\n\t\t\t} else {\n\t\t\t\treturn value.then(\n\t\t\t\t\tval => next(generator, val, false),\n\t\t\t\t\terr => next(generator, err, true),\n\t\t\t\t);\n\t\t\t}\n\t\t})(Reflect.apply(callback, this, args), undefined, false);\n\t};\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function asyncFlow<A1, A2, A3, A4, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | RB>\n\t(f1: F1): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<RA> | RB>\n\t(f1: F1, f2: F2): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, F, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<F> | F, F6: (f: F) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5, f6: F6): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\n\nexport function asyncFlow(firstFn, ...fns) {\n\treturn fastAsync(function*(...args) {\n\t\tlet accum = firstFn(...args);\n\t\tfor (const fn of fns) {\n\t\t\taccum = fn(yield accum);\n\t\t}\n\t\treturn accum;\n\t});\n}\n\n// once the promise has resolved, its value is available synchronously\n// intended for use with fastAsync\nexport function reifyPromise<T>(promise: Promise<T>): { get(): T | Promise<T> } {\n\tlet val = promise;\n\tpromise.then(x => { val = x; });\n\treturn { get: () => val };\n}\n\nexport function keyedMutex<V, T:(...args: any) => Promise<V> | V>(\n\tcallback: T,\n\tkeyResolver?: (...args: any) => mixed = x => x,\n): T {\n\tconst queues = new Map();\n\n\treturn (function(...args) {\n\t\tconst key = keyResolver(...args);\n\n\t\t// https://github.com/facebook/flow/issues/34\n\t\tconst tail = queues.has(key) ?\n\t\t\talways(queues.get(key) /*:: || Promise.resolve() */, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueues.set(key, tail);\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queues.get(key) === tail) queues.delete(key);\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\nexport function mutex<V, T:(...args: any) => Promise<V> | V>(callback: T): T {\n\tlet queue;\n\n\treturn (function(...args) {\n\t\tconst tail = queue ?\n\t\t\talways(queue, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueue = tail;\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queue === tail) queue = undefined;\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\n// `callback` is invoked when the micro task queue is emptied\n// returns a promise that resolves when callback resolves\nexport function throttle(callback: () => void | Promise<void>): () => Promise<void> {\n\tlet promise: ?Promise<*>;\n\n\treturn () => {\n\t\tpromise = promise || Promise.resolve().then(() => {\n\t\t\tpromise = null;\n\t\t\tcallback();\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n// Invokes callback after the returned function has not been invoked for `debounce` number of frames\nexport function frameDebounce(callback: () => any, debounce: number = 1): () => void {\n\tlet remaining: number;\n\n\tconst update = frameThrottle(() => {\n\t\tif (remaining) requestAnimationFrame(() => { update(); });\n\t\telse callback();\n\t\tremaining -= 1;\n\t});\n\n\treturn () => {\n\t\tremaining = debounce;\n\t\trequestAnimationFrame(() => { update(); });\n\t};\n}\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will invoke `callback` at most once per frame.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function frameThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n/*\n * Similar to throttle, but callbacks are ordered:\n * When the returned wrapper function is invoked, `callback` will be placed last in the execution queue\n */\nexport const throttleQueuePositionReset = (() => {\n\tlet queues = [];\n\n\tconst run = throttle(() => {\n\t\tfor (const fn of queues) {\n\t\t\ttry {\n\t\t\t\tfn();\n\t\t\t} catch (e) { /* empty */ }\n\t\t}\n\t\tqueues = [];\n\t});\n\n\treturn function(callback: () => void) {\n\t\tlet args = [];\n\t\tlet queued = false;\n\n\t\tfunction runCallback() {\n\t\t\tqueued = false;\n\t\t\tcallback();\n\t\t}\n\n\t\treturn (...a: Array<*>) => {\n\t\t\targs = a;\n\n\t\t\tif (queued) {\n\t\t\t\tpull(queues, callback);\n\t\t\t} else {\n\t\t\t\tqueued = true;\n\t\t\t}\n\n\t\t\tqueues.push(callback);\n\t\t\trun();\n\t\t};\n\t};\n})();\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will only invoke the latest `callback` in the next upcoming idle period.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function idleThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestIdleCallback(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n","/* @flow */\n\nimport { keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { addListener } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\n\naddListener('storage-cas', keyedMutex(async ([key, defaultValue, oldValue, newValue]) => {\n\tconst storedValue = await _get(key, defaultValue);\n\tif (storedValue !== oldValue) return false;\n\tawait _set(key, newValue);\n\treturn true;\n}, ([key]) => key));\n","/* @flow */\n\nimport { addListener } from './messaging';\n\naddListener('openNewTabs', ({ urls, focusIndex }, { tab }) => {\n\turls.forEach((url, i) => {\n\t\tchrome.tabs.create({\n\t\t\turl,\n\t\t\tactive: i === focusIndex,\n\t\t\tindex: tab.index + 1 + i,\n\t\t\topenerTabId: tab.id,\n\t\t\t// Firefox needs cookieStoreId to open in correct container\n\t\t\t...(process.env.BUILD_TARGET === 'firefox' ? { cookieStoreId: tab.cookieStoreId } : {}),\n\t\t});\n\t});\n});\n\n","/* @flow */\n\nexport class LRUCache<K, V> {\n\tmap: Map<K, {\n\t\tvalue: V,\n\t\tcreateTime: number,\n\t\thitTime: number,\n\t}>;\n\n\tcapacity: number;\n\n\tconstructor(capacity: number) {\n\t\tthis.map = new Map();\n\t\tthis.capacity = capacity;\n\t}\n\n\tget(key: K, maxAge: number = Infinity): V | void {\n\t\tconst now = Date.now();\n\t\tconst entry = this.map.get(key);\n\t\tif (entry && (now - entry.createTime < maxAge)) {\n\t\t\tentry.hitTime = now;\n\t\t\treturn entry.value;\n\t\t}\n\t}\n\n\tset(key: K, value: V): this {\n\t\tconst now = Date.now();\n\t\tthis.map.set(key, { value, createTime: now, hitTime: now });\n\n\t\tif (this.map.size > this.capacity) {\n\t\t\t// Evict least-recently used (hit)\n\t\t\tArray.from(this.map.entries())\n\t\t\t\t.sort(([, a], [, b]) => b.hitTime - a.hitTime)\n\t\t\t\t.slice((this.capacity / 2) | 0)\n\t\t\t\t.forEach(([key]) => this.map.delete(key));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tdelete(key: K): boolean {\n\t\treturn this.map.delete(key);\n\t}\n\n\tclear(): void {\n\t\tthis.map.clear();\n\t}\n}\n","/* @flow */\n\nimport { LRUCache } from '../../utils/Cache';\nimport { addListener } from './messaging';\n\nconst cache = new LRUCache(512);\naddListener('XHRCache', ([operation, key, value]) => {\n\tswitch (operation) {\n\t\tcase 'set':\n\t\t\tcache.set(key, value);\n\t\t\tbreak;\n\t\tcase 'check':\n\t\t\treturn cache.get(key, value);\n\t\tcase 'delete':\n\t\t\treturn cache.delete(key);\n\t\tcase 'clear':\n\t\t\treturn cache.clear();\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid XHRCache operation: ${operation}`);\n\t}\n});\n","/* generated by sibling-loader */\nimport * as _0 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/ajax.js\";\nimport * as _1 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/auth.js\";\nimport * as _2 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/download.js\";\nimport * as _3 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/history.js\";\nimport * as _4 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/i18n.js\";\nimport * as _5 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/loadScript.js\";\nimport * as _6 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/localePersistor.js\";\nimport * as _7 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/messaging.js\";\nimport * as _8 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/multicast.js\";\nimport * as _9 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/pageAction.js\";\nimport * as _10 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/permissions.js\";\nimport * as _11 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/session.js\";\nimport * as _12 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/storage.js\";\nimport * as _13 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/tabs.js\";\nimport * as _14 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/background/xhrCache.js\";\nexport default { \"ajax.js\": _0, \"auth.js\": _1, \"download.js\": _2, \"history.js\": _3, \"i18n.js\": _4, \"loadScript.js\": _5, \"localePersistor.js\": _6, \"messaging.js\": _7, \"multicast.js\": _8, \"pageAction.js\": _9, \"permissions.js\": _10, \"session.js\": _11, \"storage.js\": _12, \"tabs.js\": _13, \"xhrCache.js\": _14 };","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n","import baseIteratee from './_baseIteratee.js';\nimport baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nexport default uniqBy;\n","import baseAssignValue from './_baseAssignValue.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nexport default mapKeys;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n * without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseWhile(array, predicate, isDrop, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length) &&\n    predicate(array[index], index, array)) {}\n\n  return isDrop\n    ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n    : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n}\n\nexport default baseWhile;\n","import baseIteratee from './_baseIteratee.js';\nimport baseWhile from './_baseWhile.js';\n\n/**\n * Creates a slice of `array` with elements taken from the end. Elements are\n * taken until `predicate` returns falsey. The predicate is invoked with\n * three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.takeRightWhile(users, function(o) { return !o.active; });\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.matches` iteratee shorthand.\n * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n * // => objects for ['pebbles']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.takeRightWhile(users, ['active', false]);\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.property` iteratee shorthand.\n * _.takeRightWhile(users, 'active');\n * // => []\n */\nfunction takeRightWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), false, true)\n    : [];\n}\n\nexport default takeRightWhile;\n","/* @flow */\n\nexport const MINUTE = 1000 * 60;\nexport const HOUR = 60 * MINUTE;\nexport const DAY = 24 * HOUR;\nexport const WEEK = 7 * DAY;\n\nexport function fromSecondsToTime(timeInSeconds: number) {\n\tconst seconds = timeInSeconds % 60;\n\tconst minutes = Math.floor(timeInSeconds / 60) % 60;\n\tconst hours = Math.floor(timeInSeconds / 3600);\n\n\tconst time = [minutes, seconds];\n\tif (hours > 0) {\n\t\ttime.unshift(hours);\n\t}\n\n\treturn time.map(part => String(part).padStart(2, '0')).join(':');\n}\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n","import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nexport default createAggregator;\n","import createAggregator from './_createAggregator.js';\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nexport default partition;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\nimport castPath from './_castPath.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nexport default basePickBy;\n","import basePickBy from './_basePickBy.js';\nimport hasIn from './hasIn.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nexport default basePick;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import flatten from './flatten.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nexport default flatRest;\n","import basePick from './_basePick.js';\nimport flatRest from './_flatRest.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nexport default pick;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import copyObject from './_copyObject.js';\nimport createAssigner from './_createAssigner.js';\nimport keysIn from './keysIn.js';\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\nexport default assignIn;\n","/* @flow */\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function downcast<From, To: From>(val: From, ty: Class<To>): To;\ndeclare function downcast(val: mixed, ty: 'boolean'): boolean;\ndeclare function downcast(val: mixed, ty: 'number'): number;\ndeclare function downcast(val: mixed, ty: 'string'): string;\n/* eslint-enable no-unused-vars */\n\nexport function downcast(val, ty) {\n\tif (\n\t\t// only perform the check in dev mode, but hide this from Flow\n\t\t/*:: ` */ process.env.NODE_ENV !== 'development' || /*:: ` && */\n\t\t(typeof ty === 'string' ? typeof val === ty : val instanceof ty) // eslint-disable-line valid-typeof\n\t) {\n\t\treturn val;\n\t}\n\n\tthrow new TypeError(`Expected ${val} to be instance of ${ty}.`);\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport { memoize, assignIn, once, pick } from 'lodash-es';\nimport { downcast } from './flow';\n\nexport function waitForEvent(ele: EventTarget, ...events: string[]): Promise<Event> {\n\treturn Promise.race(events.map(event =>\n\t\tnew Promise(resolve => {\n\t\t\tele.addEventListener(event, function fire(e) {\n\t\t\t\tele.removeEventListener(event, fire);\n\t\t\t\tresolve(e);\n\t\t\t});\n\t\t}),\n\t));\n}\n\nexport function waitForChild(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = Array.from(ele.children).find(child => child.matches(selector));\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\tresolve(downcast(node, HTMLElement));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true });\n\t});\n}\n\nexport function watchForChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tfor (const child of Array.from(ele.children).filter(child => child.matches(selector))) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureChildren(ele, selector, callback);\n}\n\nexport function watchForFutureChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tnew MutationObserver(mutations => {\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\tcallback(downcast(node, HTMLElement));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}).observe(ele, { childList: true });\n}\n\nexport function waitForDescendant(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = ele.querySelector(selector);\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForFutureDescendant(ele: Element, selector: string, { added = false, removed = false }: {| added?: boolean, removed?: boolean |} = { added: true, removed: false }): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of [...(added ? mutation.addedNodes : []), ...(removed ? mutation.removedNodes : [])]) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForAttach(parent: HTMLElement, el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\tif (parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function waitForDetach(el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\t// Use `document.documentElement` as parent since using other closer element may not detect removal\n\tconst parent = document.documentElement;\n\n\tif (!parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (!parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function watchForDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tfor (const child of ele.querySelectorAll(selector)) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureDescendants(ele, selector, callback, ignoreChildrenIfAddedNodeMatches);\n}\n\nexport function watchForFutureDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tnew MutationObserver(mutations => {\n\t\t// avoid calling the callback twice if streamed-in children match the same selectors as their parents\n\t\t// i.e. nested comments that are rendered at pageload\n\t\tconst children = new Set();\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t// the node itself may match...\n\t\t\t\t\tif ((node: any).matches(selector)) {\n\t\t\t\t\t\tchildren.add(node);\n\t\t\t\t\t\tif (ignoreChildrenIfAddedNodeMatches) continue;\n\t\t\t\t\t}\n\t\t\t\t\t// ...or some of its children may match\n\t\t\t\t\tfor (const child of (node: any).querySelectorAll(selector)) {\n\t\t\t\t\t\tchildren.add(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const child of children) {\n\t\t\tcallback(downcast(child, HTMLElement));\n\t\t}\n\t}).observe(ele, { childList: true, subtree: true });\n}\n\nexport function empty<T: Element>(parent: T): T {\n\twhile (parent.lastChild) parent.removeChild(parent.lastChild);\n\treturn parent;\n}\n\nexport function click(obj: EventTarget, button: number = 0): void {\n\tobj.dispatchEvent(new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tdetail: 0,\n\t\tscreenX: 1,\n\t\tscreenY: 1,\n\t\tclientX: 1,\n\t\tclientY: 1,\n\t\tbutton,\n\t}));\n}\n\nclick.isProgrammaticEvent = (e: MouseEvent): boolean => e.clientX === 1 && e.clientY === 1;\n\nexport const getViewportSize = memoize((): { width: number, height: number } => {\n\twaitForEvent(window, 'resize').then(() => { getViewportSize.cache.clear(); });\n\n\tlet visualViewport;\n\n\tif (window.visualViewport) {\n\t\tvisualViewport = window.visualViewport;\n\t} else {\n\t\tconst viewportSizedElement = document.createElement('div');\n\t\tviewportSizedElement.style.width = viewportSizedElement.style.height = '100%';\n\t\tviewportSizedElement.style.position = 'fixed';\n\t\tdocument.body.appendChild(viewportSizedElement);\n\t\tvisualViewport = viewportSizedElement.getBoundingClientRect();\n\n\t\t// Try less accurate method in case this didn't work (workaround for potensial Firefox issue)\n\t\tif (!visualViewport.height || !visualViewport.width) {\n\t\t\tvisualViewport = document.documentElement.getBoundingClientRect();\n\t\t}\n\n\t\tviewportSizedElement.remove();\n\t}\n\n\treturn pick(visualViewport, ['height', 'width']);\n});\n\nexport function elementInViewport(ele: HTMLElement): boolean {\n\tif (!ele || !ele.offsetParent) return false;\n\n\tconst { top, left, bottom, right } = ele.getBoundingClientRect();\n\n\treturn (\n\t\ttop >= 0 &&\n\t\tleft >= 0 &&\n\t\tbottom <= getViewportSize().height &&\n\t\tright <= getViewportSize().width\n\t);\n}\n\nfunction getViewportDimensions() {\n\tconst headerOffset = getHeaderOffset();\n\tconst left = window.pageXOffset;\n\tconst top = window.pageYOffset + headerOffset;\n\tconst width = getViewportSize().width;\n\tconst height = getViewportSize().height - headerOffset;\n\n\treturn {\n\t\tyOffset: headerOffset,\n\t\tleft,\n\t\ttop,\n\t\tbottom: top + height,\n\t\tright: left + width,\n\t\twidth,\n\t\theight,\n\t};\n}\n\n// Returns percentage of the element that is within the viewport along the y-axis\n// Note that it doesn't matter where the element is on the x-axis, it can be totally invisible to the user\n// and this function might still return 1!\nexport function getPercentageVisibleYAxis(obj: Element): number {\n\tconst rect = obj.getBoundingClientRect();\n\tconst top = Math.max(0, rect.bottom - rect.height);\n\tconst bottom = Math.min(getViewportSize().height, rect.bottom);\n\tif (rect.height === 0) {\n\t\treturn 0;\n\t}\n\treturn Math.max(0, (bottom - top) / rect.height);\n}\n\nconst padBottom = once(() => {\n\tconst element = document.createElement('div');\n\telement.style.clear = 'both';\n\tconst extraPadding = 50; // In case the body's height reduces\n\treturn (scrollTop, viewportHeight) => {\n\t\tconst currentPadding = element.clientHeight;\n\t\tconst paddingRequired = extraPadding +\n\t\t\t-(document.documentElement.scrollHeight - scrollTop - viewportHeight - currentPadding);\n\t\tif (paddingRequired > 0) document.body.append(element);\n\t\telse element.remove();\n\t\telement.style.height = `${paddingRequired}px`;\n\t};\n});\n\nlet recentScroll = false;\nlet scrollInvokationToken;\n\nexport type ScrollStyle = 'none' | 'top' | 'adopt' | 'middle' | 'page' | 'legacy' | 'directional';\ntype Direction = 'up' | 'down';\ntype Anchor = {| to: number, from?: number |};\n\nexport function scrollToElement(to: HTMLElement, from: ?HTMLElement, {\n\tscrollStyle,\n\trestrictDirectionTo,\n\tdirection: selectedDirection,\n\tanchor,\n\twaitTillVisible,\n}: {|\n\tscrollStyle: ScrollStyle,\n\trestrictDirectionTo?: Direction,\n\tdirection?: Direction,\n\tanchor?: Anchor,\n\twaitTillVisible?: boolean,\n|}): void | Promise<void> {\n\tconst _scrollInvokationToken = scrollInvokationToken = {}; // Unique object in order to check whether invokation with `waitTillVisible` has been superseded\n\n\tif (waitTillVisible && !to.offsetParent) {\n\t\t// Try again next frame\n\t\treturn new Promise(res => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tif (scrollInvokationToken !== _scrollInvokationToken) return;\n\t\t\t\t(scrollToElement(...arguments) || Promise.resolve()).then(res); // eslint-disable-line prefer-rest-params\n\t\t\t});\n\t\t});\n\t}\n\n\tif (scrollStyle === 'none' && !anchor) {\n\t\treturn;\n\t}\n\n\tif (!to.offsetParent) {\n\t\tconsole.error('Element is not visible.');\n\t\treturn;\n\t}\n\n\tif (scrollStyle === 'none' && anchor) {\n\t\tconst diff = to.getBoundingClientRect().top - anchor.to;\n\t\tif (diff) window.scrollBy(0, diff);\n\t}\n\n\tconst viewport = getViewportDimensions();\n\n\tconst target = assignIn({}, to.getBoundingClientRect()); // top, right, bottom, left are relative to viewport\n\ttarget.top -= viewport.yOffset;\n\ttarget.bottom -= viewport.yOffset;\n\n\tconst top = viewport.top + target.top - 5; /* offset */\n\n\tif (scrollStyle === 'middle' && target.height >= viewport.height) {\n\t\tscrollStyle = 'top';\n\t}\n\n\tlet compensateHeader = true;\n\tlet scrollY;\n\n\tif (scrollStyle === 'top') {\n\t\t// Always scroll element to top of page; pad bottom if necessary\n\t\tpadBottom()(top, viewport.height);\n\t\tscrollY = top;\n\t} else if (from && scrollStyle === 'adopt') {\n\t\t// Replace the viewport position of `from` with `element`\n\t\tconst fromTop = anchor && typeof anchor.from === 'number' ?\n\t\t\tanchor.from :\n\t\t\tfrom.getBoundingClientRect().top;\n\t\tlet diff = to.getBoundingClientRect().top - fromTop;\n\n\t\tif (fromTop < 0) {\n\t\t\t// Compensate to show top when it is above viewport\n\t\t\tdiff += fromTop;\n\t\t} else if (fromTop > viewport.height - 60) {\n\t\t\t// Always show at minimum the top 60px of the element\n\t\t\tdiff += fromTop - viewport.height + 60;\n\t\t}\n\n\t\tscrollY = window.scrollY + diff;\n\t\tcompensateHeader = false;\n\t} else if (scrollStyle === 'middle') {\n\t\tconst buffer = (viewport.height - target.height) / 2;\n\t\tconst newScrollY = top - buffer;\n\n\t\tif (elementInViewport(to)) {\n\t\t\tconst viewportDirection = newScrollY >= window.scrollY ? 'down' : 'up';\n\t\t\t// Having these go in opposite directions is jarring\n\t\t\tif (viewportDirection !== selectedDirection) return;\n\t\t}\n\n\t\tscrollY = newScrollY;\n\t} else if (target.top >= 0 && target.bottom <= viewport.height) {\n\t\t// Element is already completely inside viewport\n\t\t// (remember, top and bottom are relative to viewport)\n\t\t// do nothing\n\t} else if (scrollStyle === 'legacy') {\n\t\t// Element not completely in viewport, so scroll to top\n\t\tscrollY = top;\n\t} else if (target.top < viewport.yOffset) {\n\t\t// Element starts above viewport\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t} else if (viewport.height < target.bottom &&\n\t\ttarget.height < viewport.height) {\n\t\t// Visible part of element starts or extends below viewport\n\t\tif (scrollStyle === 'page') {\n\t\t\tscrollY = top;\n\t\t} else {\n\t\t\t// So, align bottom of target to bottom of viewport\n\t\t\tscrollY = viewport.top + target.bottom - viewport.height;\n\t\t}\n\t} else {\n\t\t// Visible part of element below the viewport but it'll fill the viewport, or fallback\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t}\n\n\tif (scrollY !== undefined) {\n\t\tif (compensateHeader) scrollY -= getHeaderOffset();\n\t\tconst scollDirection = scrollY > viewport.top ? 'down' : 'up';\n\t\tif (viewport.top === scrollY || (restrictDirectionTo && restrictDirectionTo !== scollDirection)) return;\n\t\twindow.scrollTo(0, scrollY);\n\t\trecentScroll = true;\n\t\twaitForEvent(window, 'scroll').then(() => { recentScroll = false; });\n\t}\n}\n\nscrollToElement.isProgrammaticEvent = (): boolean => recentScroll;\n\nconst headerIds = { fullWidth: [], partialWidth: [] };\n\nexport function _addHeaderId(elementId: string, partialWidth: boolean = false) {\n\theaderIds[partialWidth ? 'partialWidth' : 'fullWidth'].push(elementId);\n}\n\nexport const getHeaderOffset = memoize((includePartialWidthHeaders?: boolean = false): number => {\n\tconst headers = [\n\t\t...headerIds.fullWidth,\n\t\t...(includePartialWidthHeaders ? headerIds.partialWidth : []),\n\t];\n\n\treturn headers\n\t\t.map(id => document.getElementById(id))\n\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n});\n\nexport const getD2xBodyOffset = memoize(() => {\n\ttry {\n\t\treturn document.getElementById('2x-container').offsetTop;\n\t} catch (e) {\n\t\treturn 65;\n\t}\n});\n\nexport function addCSS(css: string) {\n\tlet style = addStyle(css);\n\treturn {\n\t\tremove() {\n\t\t\tif (!style) return;\n\t\t\tstyle.remove();\n\t\t\tstyle.textContent = '';\n\t\t\tstyle = undefined;\n\t\t},\n\t};\n}\n\nfunction addStyle(css) {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\n\t(document.head || document.documentElement).appendChild(style);\n\n\treturn style;\n}\n\n// r2 Reddit clone certain elements, e.g. when replying or editing a post\n// This will remove elements that have a specific attribute, but have not been registered\nexport const preventCloning = (() => {\n\t// Prevent breaking ava test\n\tif (typeof window === 'undefined') return (e: *) => e;\n\n\tconst attribute = `res-prevent-cloning-${Date.now()}`; // Prevent the attribute being used in a selector\n\tconst elements = new WeakSet();\n\n\t// Delay adding the observer a little, to not slow down init\n\twaitForEvent(window, 'DOMContentLoaded', 'load').then(() => {\n\t\twatchForFutureDescendants(document.body, `[${attribute}]`, e => {\n\t\t\tif (!elements.has(e)) e.remove();\n\t\t});\n\t});\n\n\treturn (element: HTMLElement) => {\n\t\telement.setAttribute(attribute, '');\n\t\telements.add(element);\n\t\treturn element;\n\t};\n})();\n","/* @flow */\n\nimport { once, partition, memoize } from 'lodash-es';\nimport { waitForEvent } from './dom';\n\nexport function matchesPageLocation(includes: Array<PageType | AppType | RegExp>, excludes: Array<PageType | AppType | RegExp> = []): boolean {\n\tconst [includeStrings, includeRegExps]: any = partition(includes, (x: string | RegExp): boolean => typeof x === 'string');\n\tconst [excludeStrings, excludeRegExps]: any = partition(excludes, (x: string | RegExp): boolean => typeof x === 'string');\n\n\treturn (\n\t\t!excludes.length ||\n\t\t!(isPageType(...excludeStrings) || isAppType(...excludeStrings) || matchesPageRegex(...excludeRegExps))\n\t) && (\n\t\t!includes.length ||\n\t\t(isPageType(...includeStrings) || isAppType(...includeStrings) || matchesPageRegex(...includeRegExps))\n\t);\n}\n\n/* eslint-disable key-spacing */\nexport const regexes: { [string]: RegExp } = {\n\tfrontpage:        /^\\/(?:hot|new|rising|controversial|top)?(?:\\/|$)/i,\n\tcomments:         /^\\/(?:r\\/([\\w\\.]+)\\/|(u(?:ser)?\\/[\\w-]+)\\/)?comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tcommentsLinklist: /^\\/(r\\/[\\w\\.\\+]+\\/|u(?:ser)?\\/[\\w-]+\\/)?comments\\/?$/i,\n\tinbox:            /^\\/(?:r\\/([\\w\\.]+)\\/)?message(?:\\/|$)/i,\n\tprofile:          /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofile2x:        /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofileCommentsPage: /^\\/user\\/([\\w\\-]+)\\/comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tsubmit:           /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?submit(?:\\/|$)/i,\n\tprefs:            /^\\/prefs(?:\\/|$)/i,\n\taccount:          /^\\/account-activity(?:\\/|$)/i,\n\twiki:             /^\\/(?:r\\/([\\w\\.]+)\\/)?wiki(?:\\/|$)/i,\n\tstylesheet:       /^\\/(?:r\\/([\\w\\.]+)\\/)about\\/stylesheet(?:\\/|$)/i,\n\tsearch:           /^\\/(?:r\\/[\\w\\.\\+]+\\/|(?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+\\/|domain\\/[^\\/]+\\/)?search(?:\\/|$)/i,\n\tcommentPermalink: /^\\/(?:r\\/([\\w\\.]+)\\/)?comments\\/([a-z0-9]+)\\/[^\\/]*\\/([a-z0-9]+)(?:\\/|$)/i,\n\tduplicates:       /^\\/r\\/[\\w\\.\\+]+\\/duplicates\\/([a-z0-9]+)/i,\n\tsubreddit:        /^\\/r\\/([\\w\\.\\+]+)(?:\\/|$)/i,\n\tsubredditAbout:   /^\\/r\\/([\\w\\.]+)\\/about(?:\\/(?!modqueue|reports|spam|unmoderated|edited)|$)/i,\n\tmodqueue:         /^\\/(?:r|me\\/f)\\/([\\w\\.\\+]+)\\/about\\/(?:modqueue|reports|spam|unmoderated|edited)(?:\\/|$)/i,\n\tmultireddit:      /^\\/((?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+)(?:\\/|$)/i,\n\tdomain:           /^\\/domain\\/([\\w\\.]+)(?:\\/|$)/i,\n\tcomposeMessage:   /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?message\\/compose(?:\\/|$)/i,\n\tliveThread:       /^\\/live\\/(?!create(?:\\/|$))([a-z0-9]+)(?:\\/|$)/i,\n};\n/* eslint-enable key-spacing */\n\nexport const execRegexes: { [string]: (path: string) => ?string[] } = {\n\tcomments: path => {\n\t\tconst match = regexes.comments.exec(path);\n\t\tif (!match) return match;\n\t\tmatch.splice(1, 2, match[1] || match[2] && match[2].replace(/^u.*\\//, 'u_'));\n\t\treturn match;\n\t},\n};\n\nexport type PageType = 'wiki' | 'search' | 'profile' | 'profile2x' | 'profileCommentsPage' | 'stylesheet' | 'modqueue' | 'subredditAbout' | 'comments' | 'commentsLinklist' | 'liveThread' | 'inbox' | 'submit' | 'account' | 'prefs' | 'linklist';\nexport type AppType = 'r2' | 'd2x' | 'options';\n\nexport const appType = once((): AppType => {\n\tif (document.documentElement.hasAttribute('res-options')) {\n\t\treturn 'options';\n\t}\n\tif (document.documentElement.getAttribute('xmlns')) {\n\t\treturn 'r2';\n\t}\n\treturn 'd2x';\n});\n\nexport function isAppType(...types: AppType[]): boolean {\n\tconst thisApp = appType();\n\treturn types.some(type => type === thisApp);\n}\n\nconst appPageTypes: { [AppType]: {| default?: PageType, pageTypes: PageType[] |} } = {\n\tr2: {\n\t\tdefault: 'linklist',\n\t\tpageTypes: ['wiki', 'search', 'stylesheet', 'modqueue', 'subredditAbout', 'comments', 'commentsLinklist', 'profile', 'liveThread', 'inbox', 'submit', 'account', 'prefs'],\n\t},\n\td2x: {\n\t\tpageTypes: ['profile2x', 'profileCommentsPage', 'submit'],\n\t},\n\toptions: {\n\t\tpageTypes: [],\n\t},\n};\n\nexport const pageType = memoize((): ?PageType => {\n\twaitForEvent(document, 'reddit.urlChanged').then(() => {\n\t\tpageType.cache.clear();\n\t});\n\tconst spec = appPageTypes[appType()];\n\treturn spec.pageTypes.find(pageType => regexes[pageType].test(location.pathname)) || spec.default;\n});\n\nexport function isPageType(...types: PageType[]): boolean {\n\tconst thisPage = pageType();\n\treturn types.some(type => type === thisPage);\n}\n\nexport function matchesPageRegex(...regexps: RegExp[]): boolean {\n\treturn regexps.some(regex => regex.test(location.pathname));\n}\n\nexport const currentSubreddit = once((): string | void => {\n\tconst match = location.pathname.match(regexes.subreddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentSubreddit(...subreddits: string[]): boolean {\n\tconst sub = (currentSubreddit() || '').toLowerCase();\n\tif (!sub) return false;\n\treturn subreddits.some(v => v.toLowerCase() === sub);\n}\n\nexport const currentMultireddit = once((): string | void => {\n\tconst match = location.pathname.match(regexes.multireddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentMultireddit(...multireddits: string[]): boolean {\n\tconst multi = (currentMultireddit() || '').toLowerCase();\n\tif (!multi) return false;\n\treturn multireddits.some(v => v.toLowerCase() === multi);\n}\n\nexport const currentDomain = once((): string | void => {\n\tconst match = location.pathname.match(regexes.domain);\n\tif (match) return match[1];\n});\n\nexport const currentUserProfile = once((): string | void => {\n\tconst match = location.pathname.match(regexes.profile);\n\tif (match) return match[1];\n});\n\nexport const fullLocation = (pathname: string = location.pathname) => {\n\tconst regex = Object.keys(regexes).find(key => pathname.match(regexes[key]));\n\tif (!regex) return pathname.toLowerCase();\n\n\t// examples: domain-youtube.com, user-gueor, subreddit-enhancement+resissues\n\treturn [\n\t\tregex,\n\t\t...(pathname.match(regexes[regex]) || []).slice(1), // ignore matched string\n\t]\n\t\t.filter(v => v)\n\t\t.join('-')\n\t\t.toLowerCase();\n};\n\n// A link is a comment code if all these conditions are true:\n// * It has no content (i.e. content.length === 0)\n// * Its href is of the form \"/code\" or \"#code\"\n//\n// In case it's not clear, here is a list of some common comment\n// codes on a specific subreddit:\n// https://www.reddit.com/r/metarage/comments/p3eqe/full_updated_list_of_comment_faces_wcodes/\n// also for CSS hacks to do special formatting, like /r/CSSlibrary\n\nconst COMMENT_CODE_REGEX = /^[\\/#].+$/;\n\nexport function isCommentCode(link: HTMLAnchorElement): boolean {\n\t// don't add annotations for hidden links - these are used as CSS\n\t// hacks on subreddits to do special formatting, etc.\n\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\n\tconst emptyText = link.textContent.length === 0;\n\tconst isCommentCode = COMMENT_CODE_REGEX.test(href);\n\n\treturn emptyText && isCommentCode;\n}\n\nexport function isEmptyLink(link: HTMLAnchorElement): boolean {\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\treturn typeof href !== 'string' || href.startsWith('javascript:') || href === '#'; // eslint-disable-line no-script-url\n}\n\nexport const inQuarantinedSubreddit = once(() => document.body.classList.contains('quarantine'));\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import arrayFilter from './_arrayFilter.js';\nimport arrayMap from './_arrayMap.js';\nimport baseProperty from './_baseProperty.js';\nimport baseTimes from './_baseTimes.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n *\n * _.unzip(zipped);\n * // => [['a', 'b'], [1, 2], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nexport default unzip;\n","import apply from './_apply.js';\nimport arrayMap from './_arrayMap.js';\nimport unzip from './unzip.js';\n\n/**\n * This method is like `_.unzip` except that it accepts `iteratee` to specify\n * how regrouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  regrouped values.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n * // => [[1, 10, 100], [2, 20, 200]]\n *\n * _.unzipWith(zipped, _.add);\n * // => [3, 30, 300]\n */\nfunction unzipWith(array, iteratee) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var result = unzip(array);\n  if (iteratee == null) {\n    return result;\n  }\n  return arrayMap(result, function(group) {\n    return apply(iteratee, undefined, group);\n  });\n}\n\nexport default unzipWith;\n","import baseRest from './_baseRest.js';\nimport unzipWith from './unzipWith.js';\n\n/**\n * This method is like `_.zip` except that it accepts `iteratee` to specify\n * how grouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  grouped values.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n *   return a + b + c;\n * });\n * // => [111, 222]\n */\nvar zipWith = baseRest(function(arrays) {\n  var length = arrays.length,\n      iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n  iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n  return unzipWith(arrays, iteratee);\n});\n\nexport default zipWith;\n","/* @flow */\n\nconst escapeLookups = {\n\t'&': '&amp;',\n\t'\"': '&quot;',\n\t\"'\": '&apos;', // eslint-disable-line quotes\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'/': '&#47;',\n};\n\nexport function escapeHTML(str: ?string): string {\n\treturn str ?\n\t\tstr.toString().replace(/[&\"'<>\\/]/g, m => escapeLookups[m]) :\n\t\t'';\n}\n","/* @flow */\n\nimport { zipWith } from 'lodash-es';\nimport levenshtein from 'fast-levenshtein';\nimport { downcast } from './flow';\nimport { escapeHTML } from './html';\nimport type { Iteratee } from './array';\n\ntype StringTagFunction<V> = (s: string[], ...values: V[]) => string;\ntype HtmlTagValues = ?false | string | number | OpaqueSafeString | OpaqueSafeString[];\n\nfunction stringTagFunction<T>(valueTransform: Iteratee<T, string | void>): StringTagFunction<T> {\n\treturn (strings, ...values) =>\n\t\tzipWith(\n\t\t\tstrings,\n\t\t\tvalues.map(valueTransform),\n\t\t\t(s, v) => `${s}${v === undefined ? '' : v}`,\n\t\t).join('');\n}\n\nexport const encode: StringTagFunction<string> = stringTagFunction(encodeURIComponent);\n\nexport const escape: StringTagFunction<string> = stringTagFunction(escapeHTML);\n\ntype OpaqueSafeString = {| __safe__: string |};\n\nexport function safe(str: string): OpaqueSafeString {\n\treturn { __safe__: str };\n}\n\nconst MAX_DISTANCE_RATIO = 0.05;\n\nexport function areSimilar(a: string, b: string): boolean {\n\treturn levenshtein.get(a, b) <= MAX_DISTANCE_RATIO * Math.max(a.length, b.length);\n}\n\nexport const regexRegex = /^\\/(.*)\\/([sgimu]+)?$/;\n\nconst htmlTagFunction = stringTagFunction(x => {\n\t// avoid treating 0 as falsy and rendering nothing\n\tif (typeof x === 'number') return String(x);\n\t// falsy values not rendered\n\tif (!x) return '';\n\t// bare strings/numbers are escaped\n\tif (typeof x === 'string') return escapeHTML(x);\n\t// arrays of safe strings\n\tif (Array.isArray(x)) return x.filter(s => s && typeof s.__safe__ === 'string').map(s => s.__safe__).join('');\n\t// safe strings\n\tif (x.hasOwnProperty('__safe__')) return x.__safe__;\n\tthrow new TypeError(`Invalid html template interpolation: ${String(x)}`);\n});\n\n/**\n * Intended for mustache-like HTML templates:\n * - falsy values are not rendered\n * - arrays are joined with the empty string\n * - strings are html-escaped, single element string tuples are not\n */\nexport const html = (s: string[], ...values: HtmlTagValues[]) => {\n\tconst markup = htmlTagFunction(s, ...values);\n\n\t// <template> elements allow out-of-place elements e.g. <tr> without a <table>\n\t// but they cause weird issues in Firefox (#4222), and it's unlikely that you'll need\n\t// to use <tr>, except embedded in another template with string._html`<tr>...</tr>`,\n\t// which doesn't have this limitation.\n\tconst template = document.createElement('div');\n\ttemplate.innerHTML = markup;\n\tif (template.childElementCount !== 1) {\n\t\tthrow new Error(`Html template should have exactly one root node, but had ${template.childElementCount}`);\n\t}\n\tconst child = downcast(template.firstElementChild, HTMLElement);\n\tchild.remove();\n\treturn child;\n};\n\n/**\n * Intended for nested arrays or optional values in HTML templates.\n */\nexport const _html = (s: string[], ...values: HtmlTagValues[]) => safe(htmlTagFunction(s, ...values));\n","/* @flow */\n\nimport { once } from 'lodash-es';\nimport { ajax } from '../environment';\nimport type { CurrentRedditUser, RedditAccount } from '../types/reddit';\nimport { MINUTE } from './time';\nimport { isAppType, regexes } from './location';\nimport * as string from './string';\n\nexport const isLoggedIn = once(() => {\n\tif (loggedInUser()) {\n\t\treturn true;\n\t} else if (document.querySelector('header a[href^=\"/message/inbox\"]')) {\n\t\treturn true;\n\t}\n});\n\nexport const loggedInUser = once((): string | void => documentLoggedInUser(document));\n\nexport const documentLoggedInUser = (document: Document | Element): string | void => {\n\tif (isAppType('d2x')) {\n\t\t// The first text node in the user button contains the username\n\t\tconst findFirstTextNode = e => [...e.childNodes].filter(v => v.nodeType === 3).concat(...[...e.children].map(findFirstTextNode));\n\t\tconst button = document.querySelector('#USER_DROPDOWN_ID > *');\n\t\tconst username = button && findFirstTextNode(button)[0];\n\t\treturn username && username.textContent;\n\t}\n\n\tconst link: ?HTMLAnchorElement = (document.querySelector('#header-bottom-right > span.user > a'): any);\n\tif (!link || link.classList.contains('login-required')) return;\n\tconst profile = regexes.profile.exec(link.pathname);\n\tif (profile) {\n\t\treturn profile[1];\n\t}\n};\n\nexport const isModeratorAnywhere = once((): boolean => !!document.getElementById('modmail'));\n\nexport const loggedInUserHash = once(async (): Promise<?string> => {\n\tconst hashEle = document.querySelector('[name=uh]');\n\tif (hashEle instanceof HTMLInputElement) {\n\t\treturn hashEle.value;\n\t}\n\n\tconst userInfo = await loggedInUserInfo();\n\treturn userInfo && userInfo.data && userInfo.data.modhash;\n});\n\nexport const loggedInUserInfo = once((): Promise<CurrentRedditUser | void> =>\n\t!isLoggedIn() ? Promise.resolve() : ajax({ url: '/api/me.json', type: 'json' })\n\t\t.then(data => data.data && data.data.modhash ? data : undefined));\n\nconst usernameRE = /(?:u|user)\\/([\\w\\-]{3,20}(?![\\w\\-]))/;\n\nexport const usernameSelector = [\n\t'.contents .author',\n\t'p.tagline a.author',\n\t'#friend-table span.user a',\n\t'.sidecontentbox .author',\n\t'div.md a[href^=\"/u/\"]:not([href*=\"/m/\"])',\n\t'div.md a[href*=\"reddit.com/u/\"]:not([href*=\"/m/\"])',\n\t'.usertable a.author',\n\t'.parent > a.author',\n\t'.usertable span.user a',\n\t'div.wiki-page-content .author',\n\t'.Post__authorLink', // Newish profile page\n].join(', ');\n\nexport function getUsernameFromLink(element: HTMLElement): ?string {\n\tif (!(element instanceof HTMLAnchorElement)) return;\n\n\tconst { href, origin } = element;\n\n\t// The link should refer to this site\n\tif (!location.origin.endsWith(origin.split('.').slice(-2).join('.'))) return;\n\n\tconst [, username] = href.match(usernameRE) || [];\n\tif (username) return username;\n}\n\nexport function getUserInfo(username: ?string = loggedInUser()): Promise<RedditAccount> {\n\tif (!username) {\n\t\treturn Promise.reject(new Error('getUserInfo: null/undefined username'));\n\t}\n\n\treturn ajax({\n\t\turl: string.encode`/user/${username}/about.json`,\n\t\ttype: 'json',\n\t\tcacheFor: 10 * MINUTE,\n\t});\n}\n","/* @flow */\n\nimport {\n\tloggedInUser,\n\tloggedInUserHash,\n} from '../../utils/user';\nimport { waitForEvent } from '../../utils/dom';\n\nexport const data: {|\n\tuserHash: ?string,\n\tusername: ?string,\n\torigin: string,\n\tpathname: string,\n|} = {\n\tuserHash: null,\n\tusername: null,\n\torigin: 'https://www.reddit.com',\n\tpathname: location.pathname,\n};\n\nexport function establish(contentStart: *) {\n\tif (!location.protocol.startsWith('http')) return;\n\n\tdata.origin = location.origin;\n\n\tcontentStart.then(() => {\n\t\tdata.username = loggedInUser();\n\t\tloggedInUserHash().then(hash => { data.userHash = hash; });\n\t});\n}\n\nexport function retrieveFromParent() {\n\tif (window === window.parent) return Promise.resolve();\n\n\treturn waitForEvent(window, 'message').then(({ data: { context } }: any) => {\n\t\tObject.assign(data, context);\n\t});\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.runtime.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler(obj => _sendMessage(obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nexport function isPrivateBrowsing(): boolean {\n\treturn chrome.extension.inIncognitoContext;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport { isPrivateBrowsing } from './privateBrowsing';\n\nexport async function addURLToHistory(url: string): Promise<void> {\n\tif (isPrivateBrowsing()) return;\n\n\tawait sendMessage('addURLToHistory', url);\n}\n\nexport function isURLVisited(url: string): Promise<boolean> {\n\treturn sendMessage('isURLVisited', url);\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('XHRCache', ['set', key, value]);\n}\n\nexport function check(key: string, maxAge?: number /* milliseconds */): Promise<any | void> {\n\treturn sendMessage('XHRCache', ['check', key, maxAge]);\n}\n\nfunction delete_(key: string) {\n\treturn sendMessage('XHRCache', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function clear() {\n\treturn sendMessage('XHRCache', ['clear']);\n}\n","/* @flow */\n\nimport { fromPairs } from 'lodash-es';\nimport { context } from '../../environment';\nimport { sendMessage } from './messaging';\nimport * as XhrCache from './xhrCache';\n\ntype ResponseType = 'text' | 'json' | 'raw';\ntype MethodType = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\ntype AjaxOptions<Ty: ResponseType | void> = {|\n\tmethod?: MethodType,\n\turl: string,\n\tquery?: { [string]: string | number | boolean },\n\theaders?: { [string]: string },\n\tdata?: string | { [string]: string },\n\ttype?: Ty,\n\tcacheFor?: number,\n\tcredentials?: 'include' | 'omit',\n|};\n\nclass FetchError extends Error {\n\tstatus: number;\n\n\tconstructor(url, status) {\n\t\tsuper(`${url} failed with status ${status}`);\n\t\tthis.status = status;\n\t}\n}\n\n/* eslint-disable no-redeclare */\ndeclare function ajax(opt: AjaxOptions<void>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'text'>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'json'>): Promise<{ [string | number]: any }>;\ndeclare function ajax(opt: AjaxOptions<'raw'>): Promise<{\n\tok: boolean,\n\tstatus: number,\n\theaders: { [string]: string },\n\ttext: string,\n}>;\n\n/**\n * Send a fetch request.\n *\n * `method`, `url`, and `headers` behave in the obvious way.\n * `query` adds query params to `url`.\n * `data` objects will be sent as application/x-www-form-urlencoded.\n * `data` strings will be sent as-is.\n * `type` affects the return type, either 'text' or 'json'.\n * `cacheFor` is a TTL, in milliseconds.\n */\nexport async function ajax(options: AjaxOptions<*>) {\n\tconst { method, url, headers, data, type, cacheFor, sameOrigin, credentials } = buildRequestParams(options);\n\n\tif (cacheFor) {\n\t\tconst cached = await XhrCache.check(url, cacheFor);\n\t\tif (cached) {\n\t\t\treturn processResponse(cached, type);\n\t\t}\n\t}\n\n\tconst response = await (sameOrigin ?\n\t\tfetch(url, {\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\tcredentials,\n\t\t\tbody: data,\n\t\t}).then(async r => ({\n\t\t\tok: r.ok,\n\t\t\tstatus: r.status,\n\t\t\theaders: fromPairs(Array.from(r.headers.entries())),\n\t\t\ttext: await r.text(),\n\t\t})) :\n\t\tsendMessage('ajax', { method, url, headers, data, credentials })\n\t);\n\n\tif (!response.ok) {\n\t\tthrow new FetchError(url, response.status);\n\t}\n\n\tif (cacheFor) {\n\t\tXhrCache.set(url, response);\n\t}\n\n\treturn processResponse(response, type);\n}\n/* eslint-enable no-redeclare */\n\najax.invalidate = (options: AjaxOptions<*>) =>\n\tXhrCache.delete(buildRequestParams(options).url);\n\nfunction buildRequestParams({ method = 'GET', url, query = {}, headers = {}, data, type = 'text', credentials, cacheFor = 0 }): {|\n\tmethod: MethodType,\n\turl: string,\n\theaders: { [string]: string },\n\tdata: string | void,\n\ttype: ResponseType,\n\tcacheFor: number,\n\tsameOrigin: boolean,\n\tcredentials: 'omit' | 'include',\n|} {\n\tconst siteOrigin = new URL(context.origin);\n\n\t// Expand relative URLs\n\tconst requestURL = new URL(url, siteOrigin);\n\n\t// Append query string to URL\n\tfor (const [key, val] of Object.entries(query)) {\n\t\trequestURL.searchParams.set(key, String(val));\n\t}\n\n\tconst sameSite = requestURL.hostname.split('.').slice(-2).join('.') === siteOrigin.hostname.split('.').slice(-2).join('.');\n\tif (sameSite) {\n\t\t// Add `app=res` to same-origin request URLs\n\t\trequestURL.searchParams.set('app', 'res');\n\n\t\t// include cookies for same-origin requests (to load correct posts, etc.)\n\t\tif (!credentials) credentials = 'include';\n\n\t\tif (method !== 'GET' && method !== 'HEAD') {\n\t\t\t// Send modhash for same-origin non-GET requests\n\t\t\tif (context.userHash) headers['X-Modhash'] = context.userHash;\n\t\t}\n\n\t\t// new.reddit.com specifically selects the reddit desktop web frontend service.\n\t\t// AJAX requests should be sent to www.reddit.com, which will select the correct\n\t\t// service based on the path.\n\t\trequestURL.hostname = requestURL.hostname.replace(/new\\./, 'www.');\n\t}\n\n\tconst sameOrigin = siteOrigin.origin === requestURL.origin;\n\n\t// Convert plain data objects to application/x-www-form-urlencoded\n\tif (typeof data === 'object') {\n\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t// this needs to be a string because Edge doesn't support sending URlSearchParams\n\t\t// (the fetch polyfill passes it through to XHR, which is correct behaviour)\n\t\tdata = new URLSearchParams(data).toString();\n\t}\n\n\treturn {\n\t\tmethod,\n\t\turl: requestURL.href,\n\t\theaders,\n\t\tdata,\n\t\ttype,\n\t\tcacheFor,\n\t\tcredentials: credentials || 'omit',\n\t\tsameOrigin,\n\t};\n}\n\nfunction processResponse(response, type: ResponseType) {\n\tswitch (type) {\n\t\tcase 'text':\n\t\t\treturn response.text;\n\t\tcase 'json':\n\t\t\treturn JSON.parse(response.text);\n\t\tcase 'raw':\n\t\t\treturn response;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t}\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function download(url: string, filename?: string) {\n\t// Firefox and Chrome <a download> is same-origin only\n\tsendMessage('download', {\n\t\t// resolve relative URLs\n\t\turl: new URL(url, location.href).href,\n\t\tfilename,\n\t});\n}\n","/* @flow */\n\nexport function getExtensionId(): string {\n\treturn chrome.runtime.id;\n}\n\nexport const getURL = chrome.runtime.getURL;\n\nexport const getOptionsURL = (hash: string = '') => new URL(hash, getURL('options.html'));\nexport const isOptionsPage = () => location.origin === getOptionsURL().origin;\n","/* @flow */\n\nexport const CACHED_LANG_KEY = 'RES.i18nCachedLang';\nexport const CACHED_MESSAGES_KEY = 'RES.i18nCachedMessages';\nexport const CACHED_MESSAGES_TOKEN_KEY = 'RES.i18nCachedMessagesToken';\n","export default \"5.20.3\";","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../../constants/localStorage';\nimport { sendMessage } from './messaging';\nimport buildToken from 'exec-loader!../../../build/buildToken'; // eslint-disable-line import/no-extraneous-dependencies\n\nconst REDDIT_LANGUAGES = new Set(['en', 'af', 'ar', 'be', 'bg', 'bn-IN', 'bn-bd', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en-us', 'eo', 'es', 'es-ar', 'es-mx', 'et', 'eu', 'fa', 'fi', 'fil', 'fr', 'fr-ca', 'fy-NL', 'ga-ie', 'gd', 'gl', 'he', 'hi', 'hr', 'hu', 'hy', 'id', 'is', 'it', 'ja', 'kn_IN', 'ko', 'la', 'leet', 'lol', 'lt', 'lv', 'ms', 'mt-MT', 'nl', 'nn', 'no', 'pir', 'pl', 'pt', 'pt-pt', 'pt_BR', 'ro', 'ru', 'sk', 'sl', 'sr', 'sr-la', 'sv', 'ta', 'th', 'tr', 'uk', 'vi', 'zh', 'zh-cn']);\n// reddit languages which are not valid browser languages\nconst SPECIAL_LANGUAGES = new Set(['leet', 'lol', 'pir']);\n\nexport let locale = navigator.language || 'en'; // May be changed depending on Reddit language\n\nfunction isValidLocale(localeString) {\n\t// there doesn't appear to be a proper way to check if a language tag is valid, so we have to do this\n\ttry {\n\t\treturn typeof (0).toLocaleString(localeString) === 'string';\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nfunction getRedditLocale() {\n\tconst redditLocale = typeof document !== 'undefined' && document.documentElement.getAttribute('lang');\n\tif (redditLocale && (REDDIT_LANGUAGES.has(redditLocale))) {\n\t\t// `pt_BR` -> `pt-br`\n\t\tconst locale = redditLocale.toLowerCase().replace('_', '-');\n\t\tif (isValidLocale(locale)) {\n\t\t\trequestIdleCallback(() => { sendMessage('setLastRedditLocale', locale); });\n\t\t\treturn locale;\n\t\t}\n\t}\n\n\treturn sendMessage('getLastRedditLocale');\n}\n\nlet messages;\n\nexport async function _loadI18n(): Promise<void> {\n\tconst redditLocale = await getRedditLocale();\n\tif (redditLocale && !SPECIAL_LANGUAGES.has(redditLocale)) locale = redditLocale;\n\n\t// fast path: i18n dictionary is cached\n\t// should be hit almost every time\n\tif (\n\t\tlocalStorage.getItem(CACHED_LANG_KEY) === redditLocale &&\n\t\tlocalStorage.getItem(CACHED_MESSAGES_TOKEN_KEY) === buildToken\n\t) {\n\t\ttry {\n\t\t\t// eslint-disable-next-line require-atomic-updates\n\t\t\tmessages = JSON.parse(localStorage.getItem(CACHED_MESSAGES_KEY) || '');\n\t\t\treturn;\n\t\t} catch (e) {\n\t\t\tconsole.error('Failed to parse cached i18n', e);\n\t\t}\n\t}\n\n\t// slow path: wait for background page to send new locales\n\t// will be hit the first (ever) pageload on a new domain\n\t// or after clearing localStorage\n\tmessages = await sendMessage('i18n', redditLocale);\n\n\ttry { // Fails if remaining localStorage space is insufficient\n\t\tlocalStorage.setItem(CACHED_MESSAGES_KEY, JSON.stringify(messages));\n\t\tlocalStorage.setItem(CACHED_LANG_KEY, redditLocale);\n\t\tlocalStorage.setItem(CACHED_MESSAGES_TOKEN_KEY, buildToken);\n\t} catch (e) {\n\t\tconsole.error('Could not cache i18n - RES will load VERY slowly', e);\n\t\t// XXX: reddit has a habit of filling up these localstorage keys, so speculatively delete them\n\t\tlocalStorage.removeItem('ads.adserverDownvotePixel');\n\t\tlocalStorage.removeItem('ads.adserverUpvotePixel');\n\t}\n}\n\n// Behaves like https://developer.chrome.com/extensions/i18n#method-getMessage\nexport function i18n(messageName: string, ...substitutions: Array<string | number>): string {\n\tif (!messageName) return '';\n\n\tif (!messages) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tthrow new Error(`i18n called too early! key: ${messageName}`);\n\t\t} else {\n\t\t\tconsole.error('i18n called too early! key:', messageName);\n\t\t\treturn messageName;\n\t\t}\n\t}\n\n\tconst message = messages[messageName];\n\n\tif (!message) return messageName;\n\n\t// Fast path: avoid running regex when there are no substitutions\n\tif (substitutions.length === 0) return message;\n\n\t// Replace direct references to substitutions, e.g. `First substitution: $1`\n\t// Maximum of 9 substitutions allowed, i.e. only one number after the `$`\n\treturn message.replace(/\\$(\\d)\\b(?!\\$)/g, (match, number) => substitutions[number - 1]);\n\n\t// Chrome also supports named placeholders, e.g. `Error: $error_message$`\n\t// but Transifex does not create the `placeholders` field in exported JSON\n\t// https://developer.chrome.com/extensions/i18n#examples-getMessage\n}\n","/* @flow */\n\nimport { memoize } from 'lodash-es';\nimport { sendMessage } from './messaging';\n\nexport const loadScript = memoize((url: string) => sendMessage('loadScript', { url }));\n","/* @flow */\n\nimport { memoize } from 'lodash-es';\nimport { mutex } from '../../utils/async';\nimport { sendMessage } from './messaging';\n\ntype Perms = Array<string>;\n\nfunction filterPerms(perms) {\n\tconst permissions = perms.filter(p => !p.includes('://') && p !== '<all_urls>');\n\tconst origins = perms.filter(p => p.includes('://') || p === '<all_urls>');\n\treturn { permissions, origins };\n}\n\n/**\n * @param {Array<string>} perms Permissions to check if granted\n * @returns {Promise<boolean>}\n */\nexport const has = memoize(\n\t(perms: Perms) => sendMessage('permissions', { operation: 'contains', ...filterPerms(perms) }),\n\tperms => perms.join(','),\n);\n\n/**\n * @param {Array<string>} perms Optional Chrome permissions to request.\n * @param {string} perms Name of site to request permission for\n * @returns {Promise<void, *>} Resolves if the permissions are granted, rejects otherwise.\n */\nexport const request = mutex(async (perms: Perms) => {\n\tif (await has(perms)) return;\n\n\tconst { permissions, origins } = filterPerms(perms);\n\n\tconst granted = await sendMessage('permissions', { operation: 'request', permissions, origins });\n\tif (granted) {\n\t\thas.cache.set(perms.join(','), true);\n\t} else {\n\t\tthrow new Error(`Permission not granted for: ${perms.join(', ')}`);\n\t}\n});\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport * as Permissions from './permissions';\n\nexport async function launchAuthFlow({\n\tdomain,\n\tclientId,\n\tscope = '',\n\tpermissions,\n}: {|\n\tdomain: string,\n\tclientId: string,\n\tscope?: string,\n\tpermissions: Array<string>,\n|}, warnUserInteraction: (message: string) => Promise<void>): Promise<string> {\n\tif (permissions.length && !await Permissions.has(permissions)) {\n\t\tconst resAuth = 'https://redditenhancementsuite.com/oauth';\n\t\t// Firefox can use `launchWebAuthFlow` and doesn't need to redirect to our domain\n\t\tif (process.env.BUILD_TARGET !== 'firefox' && !await Permissions.has([resAuth])) {\n\t\t\tpermissions.push(resAuth);\n\t\t}\n\n\t\tawait warnUserInteraction(permissions.includes(resAuth) ? 'You may be redirected to redditenhancementsuite.com to complete the login process.' : '');\n\n\t\tawait Permissions.request(permissions);\n\t}\n\n\tlet responseUrl;\n\ttry {\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: false });\n\t} catch (e) {\n\t\tconsole.error('Noninteractive auth failed:', e);\n\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: true });\n\t}\n\n\tconst hash = new URL(responseUrl).hash.slice(1);\n\tconst token = new URLSearchParams(hash).get('access_token');\n\n\tif (!token) throw new Error('No token found in response.');\n\n\treturn token;\n}\n","/* @flow */\n\nimport { addListener, sendMessage } from './messaging';\n\nconst callbacks = new Map();\n\naddListener('multicast', ({ name, args }) => {\n\tconst callback = callbacks.get(name);\n\t// Not every foreground pages subscribes to every multicast\n\tif (callback) return callback(...args);\n});\n\n/*\n * Creates a wrapper function that will invoke `callback` in all other tabs.\n */\nexport function multicast<T:(...args: any) => any>(callback: T, { name, local = true, crossContext = true }: {| name: string, local?: boolean, crossContext?: boolean |}): T {\n\tif (callbacks.has(name)) {\n\t\tthrow new Error(`Multicast handler with name \"${name}\" exists.`);\n\t}\n\n\tcallbacks.set(name, callback);\n\n\tfunction localOnly(...args) {\n\t\tcallback(...args);\n\t}\n\n\tconst invoke: any = (...args) => {\n\t\tsendMessage('multicast', { name, args, crossContext });\n\n\t\tif (local) {\n\t\t\tlocalOnly(...args);\n\t\t}\n\t};\n\n\tinvoke.local = localOnly;\n\n\treturn invoke;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function openNewTab(url: string, focus?: boolean = true) {\n\treturn openNewTabs(focus, url);\n}\n\ntype Focus = 'first' | 'last' | 'none' | boolean;\n\nexport function openNewTabs(focus: Focus, ...urls: string[]) {\n\tlet focusIndex;\n\n\tif (typeof focus !== 'string') focus = !!focus;\n\n\tswitch (focus) {\n\t\tcase 'first':\n\t\t\tfocusIndex = 0;\n\t\t\tbreak;\n\t\tcase true:\n\t\tcase 'last':\n\t\t\tfocusIndex = urls.length - 1;\n\t\t\tbreak;\n\t\tcase false:\n\t\tcase 'none':\n\t\t\tfocusIndex = -1;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid focus specified: ${focus}`);\n\t}\n\n\t// Expand relative URLs\n\turls = urls.map(url => new URL(url, location.href).href);\n\n\treturn sendMessage('openNewTabs', { urls, focusIndex });\n}\n","/* @flow */\n\nimport { frameThrottle } from '../../utils/async';\nimport { addListener, sendMessage } from './messaging';\n\nconst clickListeners = [];\n\nexport function onClick(callback: () => void) {\n\tclickListeners.push(callback);\n}\n\naddListener('pageActionClick', () => { for (const fn of clickListeners) fn(); });\n\n// Don't update before page is visible, as Firefox (buggily?) ignores pageAction updates to hidden pages\nconst update = frameThrottle(value => sendMessage('pageAction', value));\n\nexport function show(state?: boolean = false) {\n\treturn update({ operation: 'show', state });\n}\n\nexport function hide() {\n\treturn update({ operation: 'hide' });\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function get(key: string): Promise<any | void> {\n\treturn sendMessage('session', ['get', key]);\n}\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('session', ['set', key, value]);\n}\n\nexport function delete_(key: string) {\n\treturn sendMessage('session', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function has(key: string): Promise<boolean> {\n\treturn sendMessage('session', ['has', key]);\n}\n\nexport function clear() {\n\treturn sendMessage('session', ['clear']);\n}\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import arrayEach from './_arrayEach.js';\nimport baseCreate from './_baseCreate.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\nimport getPrototype from './_getPrototype.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isTypedArray from './isTypedArray.js';\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nexport default transform;\n","/* @flow */\n\n/*\n * Roughly equivalent to `$.extend(true, target, source)`\n * Unfortunately lodash does not seem to offer any function that does this:\n * _.assign/_.extend/Object.assign are not recursive\n * _.merge and _.defaultsDeep ignore undefined values\n */\nexport function extendDeep(target: { [string]: mixed }, source: { [string]: mixed }): { [string]: mixed } {\n\tfor (const key of Object.keys(source)) {\n\t\tif (\n\t\t\ttarget[key] && source[key] &&\n\t\t\ttypeof target[key] === 'object' && typeof source[key] === 'object' &&\n\t\t\t!Array.isArray(source[key]) && !Array.isArray(target[key])\n\t\t) {\n\t\t\textendDeep(target[key], source[key]);\n\t\t} else {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n}\n","/* @flow */\n\nimport { transform, once } from 'lodash-es';\nimport { extendDeep } from '../../utils/object';\nimport { batch, keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { sendMessage } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\nconst _delete = apiToPromise((keys, callback) => chrome.storage.local.remove(keys, callback));\nconst _clear = apiToPromise(callback => chrome.storage.local.clear(callback));\n\nconst withLockOn = keyedMutex(<T>(key: string, fn: () => T): T => fn());\n\nexport function get(key: string): Promise<any | null> {\n\treturn withLockOn(key, () => _get(key, null));\n}\n\nexport function getAll(): Promise<{ [string]: mixed }> {\n\treturn __get(null);\n}\n\nexport function getMultiple<T: string>(keys: T[]): Promise<{ [T]: any | null }> {\n\tconst defaults = {};\n\tfor (const k of keys) {\n\t\tdefaults[k] = null;\n\t}\n\treturn __get(defaults);\n}\n\nexport function set(key: string, value: mixed): Promise<void> {\n\treturn withLockOn(key, () => _set(key, value));\n}\n\nexport function setMultiple(valueMap: { +[string]: mixed }): Promise<void> {\n\treturn __set(valueMap);\n}\n\nfunction compareAndSet(key: string, defaultValue: mixed, oldValue: mixed, newValue: mixed): Promise<boolean> {\n\t// Redirect to the background instance as it allows for a common mutex,\n\t// preventing race conditions when several tabs invokes this function around the same time\n\treturn sendMessage('storage-cas', [key, defaultValue, oldValue, newValue]);\n}\n\n/*\n * Deeply patches an object in storage, like extendDeep().\n */\nfunction patch(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = extendDeep(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Shallowly patches an object in storage, like Object.assign().\n */\nfunction patchShallow(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = Object.assign(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Deletes a property on a value in storage.\n * i.e. `deletePath('userTaggerStorageKey', 'username', 'tag')`\n * will `delete userTaggerStoredValue.username.tag`\n */\nfunction deletePaths(key: string, paths: string[][]): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst stored = await _get(key);\n\t\tif (!stored) return;\n\t\tfor (const path of paths) {\n\t\t\tpath.reduce((obj, key, i, { length }) => {\n\t\t\t\tif (!obj) return;\n\t\t\t\tif (i < length - 1) return obj[key];\n\t\t\t\tdelete obj[key];\n\t\t\t}, stored);\n\t\t}\n\t\treturn _set(key, stored);\n\t});\n}\n\nfunction delete_(key: string): Promise<void> {\n\treturn withLockOn(key, () => _delete(key));\n}\nexport { delete_ as delete };\n\nexport function deleteMultiple(keys: string[]): Promise<void> {\n\treturn _delete(keys);\n}\n\nexport function has(key: string): Promise<boolean> {\n\treturn withLockOn(key, async () => {\n\t\tconst sentinel = Math.random();\n\t\treturn (await _get(key, sentinel)) !== sentinel;\n\t});\n}\n\nexport async function keys(): Promise<string[]> {\n\treturn Object.keys(await __get(null));\n}\n\nexport function clear(): Promise<void> {\n\treturn _clear();\n}\n\nclass Wrapper<T> {\n\t_key: () => string;\n\t_default: T;\n\n\tconstructor(key: $PropertyType<this, '_key'>, def: T) {\n\t\tthis._key = key;\n\t\tthis._default = def;\n\t}\n\n\tget(): Promise<T> {\n\t\treturn get(this._key()).then(val => (val === null ? this._default : val));\n\t}\n\n\tset(value: T): Promise<void> {\n\t\treturn set(this._key(), value);\n\t}\n\n\tpatch(value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._key(), (value: any));\n\t}\n\n\tcompareAndSet(oldValue: T, newValue: T): Promise<boolean> {\n\t\treturn compareAndSet(this._key(), this._default, oldValue, newValue);\n\t}\n\n\tdeletePath(...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._key(), [path]);\n\t}\n\n\tdelete(): Promise<void> {\n\t\treturn delete_(this._key());\n\t}\n\n\thas(): Promise<boolean> {\n\t\treturn has(this._key());\n\t}\n}\n\nexport function wrap<T>(key: string | () => string /* pure */, defaultValue: T): Wrapper<T> {\n\tconst keyGenerator = typeof key === 'string' ? () => key : once(key);\n\t// $FlowIssue\n\treturn new Wrapper(keyGenerator, defaultValue);\n}\n\nclass PrefixWrapper<T> {\n\t_prefix: string;\n\t_keyMapper: (key: string) => string;\n\t_default: () => T;\n\t_get: *;\n\n\tconstructor(prefix: string, def: () => T, keyMapper: (key: string) => string, batching: boolean) {\n\t\tthis._prefix = prefix;\n\t\tthis._default = def;\n\t\tthis._keyMapper = keyMapper;\n\n\t\tif (batching) {\n\t\t\tthis._get = batch(async keys => {\n\t\t\t\tconst v = await this.getMultipleNullable(keys);\n\t\t\t\treturn keys.map(key => v[this._keyMapper(key)]);\n\t\t\t}, { size: Infinity, delay: 0 });\n\t\t} else {\n\t\t\tthis._get = key => get(this._keyGen(key));\n\t\t}\n\t}\n\n\t_keyGen(key: string): string {\n\t\treturn this._prefix + this._keyMapper(key);\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn this._get(key).then(val => (val === null ? this._default() : val));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn this._get(key);\n\t}\n\n\tasync getAll(): Promise<{ [string]: T }> {\n\t\tconst everything = await getAll();\n\t\treturn transform(everything, (acc, v, k) => {\n\t\t\tif (k.startsWith(this._prefix)) {\n\t\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t\t}\n\t\t}, {});\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = (v === null ? this._default() : v);\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn set(this._keyGen(key), value);\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._keyGen(key), (value: any));\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._keyGen(key), [path]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn delete_(this._keyGen(key));\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deleteMultiple(keys.map(k => this._keyGen(k)));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn has(this._keyGen(key));\n\t}\n}\n\nexport function wrapPrefix<T>(prefix: string, defaultValue: () => T, destructiveKeyMapper: (key: string) => string = x => x, batching: boolean = false): PrefixWrapper<T> {\n\treturn new PrefixWrapper(prefix, defaultValue, destructiveKeyMapper, batching);\n}\n\nclass BlobWrapper<T> {\n\t_rootKey: string;\n\t_default: () => T;\n\n\tconstructor(rootKey: string, def: () => T) {\n\t\tthis._rootKey = rootKey;\n\t\tthis._default = def;\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? this._default() : val[key]\n\t\t));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? null : val[key]\n\t\t));\n\t}\n\n\tgetAll(): Promise<{ [string]: T }> {\n\t\treturn get(this._rootKey).then(val => (val === null ? {} : val));\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? this._default() : rawValues[key];\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? null : rawValues[key];\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn patchShallow(this._rootKey, { [key]: value });\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._rootKey, { [key]: value });\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key, ...path]]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key]]);\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, keys.map(k => [k]));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn get(this._rootKey).then(val => (val !== null && val[key] !== undefined));\n\t}\n\n\tclear(): Promise<void> {\n\t\treturn delete_(this._rootKey);\n\t}\n}\n\nexport function wrapBlob<T>(rootKey: string, defaultValue: () => T): BlobWrapper<T> {\n\treturn new BlobWrapper(rootKey, defaultValue);\n}\n","/* @flow */\n\nexport { data as context } from './foreground/context';\nexport { addURLToHistory, isURLVisited } from './foreground/history';\nexport { ajax } from './foreground/ajax';\nexport { download } from './foreground/download';\nexport { getExtensionId, getURL, isOptionsPage, getOptionsURL } from './foreground/id';\nexport { locale, i18n, _loadI18n } from './foreground/i18n';\nexport { loadScript } from './foreground/loadScript';\nexport { isPrivateBrowsing } from './foreground/privateBrowsing';\nexport { launchAuthFlow } from './foreground/auth';\nexport { multicast } from './foreground/multicast';\nexport { openNewTab, openNewTabs } from './foreground/tabs';\nexport * as PageAction from './foreground/pageAction';\nexport * as Permissions from './foreground/permissions';\nexport * as Session from './foreground/session';\nexport * as Storage from './foreground/storage';\nexport * as XhrCache from './foreground/xhrCache';\n","/* @flow */\nimport { curryRight } from 'lodash-es';\nimport { fastAsync } from './async';\n\nexport type Iteratee<T, R> = (e: T, i: number, a: T[]) => R;\n\n/*\n * If `callback` returns a promise, waits for the promise to resolve before advancing to the next item.\n */\nexport async function forEachSeq<T>(iterable: Iterable<T>, callback: (x: T) => ?Promise<void>): Promise<void> {\n\tfor (const val of iterable) {\n\t\tawait callback(val); // eslint-disable-line no-await-in-loop\n\t}\n}\n\nexport async function asyncFilter<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<T[]> {\n\tconst shouldKeep = await Promise.all(array.map(predicate));\n\treturn array.filter((e, i) => shouldKeep[i]);\n}\n\nexport async function asyncReduce<T, V>(iterable: Iterable<T>, callback: (acc: V, e: T) => Promise<V>, initialValue: V): Promise<V> {\n\tlet accumulator = initialValue;\n\n\tfor (const val of iterable) {\n\t\taccumulator = await callback(accumulator, val); // eslint-disable-line no-await-in-loop\n\t}\n\n\treturn accumulator;\n}\n\nexport const asyncFind = fastAsync(function* asyncFind<T>(iterable: Iterable<T>, predicate: (x: T) => Promise<mixed> | mixed) {\n\tfor (const val of iterable) {\n\t\tif (yield predicate(val)) return val;\n\t}\n});\n\n/**\n * @template T, V\n * @param {Promise<T>[]} array\n * @param {function(V, T): V} reduce\n * @param {V} initialValue\n * @param {V} baseCase\n * @returns {Promise<T>}\n */\nfunction concurrentFold<T, V>(array: Promise<T>[], reduce: (a: V, b: T) => V, initialValue: V, baseCase: V): Promise<V> {\n\tif (!array.length) return Promise.resolve(initialValue);\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet remaining = array.length;\n\t\tlet accum = initialValue;\n\n\t\tfunction onResolve(x) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\taccum = reduce(accum, x);\n\n\t\t\tif (accum === baseCase || --remaining === 0) {\n\t\t\t\tremaining = 0;\n\t\t\t\tresolve(accum);\n\t\t\t}\n\t\t}\n\n\t\tfunction onReject(err) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\tremaining = 0;\n\t\t\treject(err);\n\t\t}\n\n\t\tarray.forEach(promise => promise.then(onResolve, onReject));\n\t});\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.some`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `true` even if some of the promises reject.\n */\nexport function asyncSome<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a || !!b, false, true);\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.every`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `false` even if some of the promises reject.\n */\nexport function asyncEvery<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a && !!b, true, false);\n}\n\n// Flow doesn't understand `Array.prototype.filter` refining types (yet https://github.com/facebook/flow/issues/34)\n// so this is necessary if you want to do `arr.filter(...).map(...)`\nexport const filterMap = curryRight(<T, V>(iterable: Iterable<T>, callback: (x: T) => ?[V]): V[] => {\n\tconst mapped = [];\n\tfor (const x of iterable) {\n\t\tconst result = callback(x);\n\t\tif (result) mapped.push(result[0]);\n\t}\n\treturn mapped;\n});\n","/* @flow */\n\nimport { Storage } from '../../environment';\n\nexport const storage = Storage.wrapBlob('RES.modulePrefs',\n\t(): boolean => { throw new Error('Default module enabled state should never be accessed'); });\n\nexport function setEnabled(moduleId: string, enable: boolean) {\n\treturn storage.set(moduleId, enable);\n}\n","/* @flow */\n\nimport type { PageType, AppType } from '../utils/location';\nimport type { KeyArray } from '../utils/keycode';\n\n// separate because indexer syntax is not supported in normal (no `declare`) classes\ndeclare class Indexable { // eslint-disable-line no-unused-vars\n\t[Symbol | $Keys<this>]: any;\n}\n\nexport class Module<RawOpt: { [string]: any }, Opt: { [string]: ModuleOption<RawOpt> } = RawOpt> /*:: extends Indexable */ {\n\tmoduleID: string;\n\n\tmoduleName: string;\n\tcategory: string = '';\n\tdescription: string = '';\n\tdescriptionRaw: boolean = false; // Whether the message is HTML and should not be run through i18n / markdown\n\tkeywords: Array<string> = [];\n\tbodyClass: boolean = false;\n\toptions: Opt = ({}: any);\n\tinclude: Array<PageType | AppType | RegExp> = [];\n\texclude: Array<PageType | AppType | RegExp> = [];\n\tshouldRun: () => boolean = () => true;\n\tonToggle: (enabling: boolean) => void = () => {};\n\tonSaveSettings: (changedSettings: any) => void = () => {};\n\n\thidden: boolean = false;\n\tdisabledByDefault: boolean = false;\n\talwaysEnabled: boolean = false;\n\tsort: number = 0;\n\n\t// no default value for cleaner profiling (modules without a stage defined won't be timed)\n\tonInit: (() => Promise<void> | void) | void = undefined;\n\tbeforeLoad: (() => Promise<void> | void) | void = undefined;\n\tcontentStart: (() => Promise<void> | void) | void = undefined;\n\tgo: (() => Promise<void> | void) | void = undefined;\n\tafterLoad: (() => Promise<void> | void) | void = undefined;\n\talways: (() => Promise<void> | void) | void = undefined;\n\n\tpermissions: {|\n\t\trequiredPermissions: Array<string>,\n\t\tmessage?: string,\n\t|} = {\n\t\trequiredPermissions: [],\n\t};\n\n\tconstructor(moduleID: string) {\n\t\t/*:: super(); */\n\t\tthis.moduleID = moduleID;\n\t\tthis.moduleName = moduleID;\n\t}\n}\n\nexport type OpaqueModuleId = string | { moduleID: string, module?: void } | { module: { moduleID: string } };\n\nexport function getModuleId(opaqueId: OpaqueModuleId): string {\n\tif (!opaqueId) {\n\t\tthrow new TypeError(`Expected module, moduleID, or namespace; found: ${opaqueId}`);\n\t}\n\n\tif (typeof opaqueId === 'string') {\n\t\t// raw moduleID\n\t\treturn opaqueId;\n\t} else if (opaqueId.module) {\n\t\t// namespace\n\t\treturn opaqueId.module.moduleID;\n\t} else {\n\t\t// assume module-like object\n\t\treturn opaqueId.moduleID;\n\t}\n}\n\nexport type ModuleOption<Ctx> =\n\t| BooleanOption<Ctx>\n\t| TextOption<Ctx>\n\t| EnumOption<Ctx>\n\t| KeycodeOption<Ctx>\n\t| ListOption<Ctx>\n\t| SelectOption<Ctx>\n\t| TableOption<Ctx, any>\n\t| ButtonOption<Ctx>\n\t| ColorOption<Ctx>\n\t| BuilderOption<Ctx>;\n\ntype CommonOptionProps<Ctx> = {|\n\ttitle: string,\n\tdescription: string,\n\tkeywords?: Array<string>,\n\tdependsOn?: (opt: Ctx) => boolean,\n\tadvanced?: boolean,\n\tnoconfig?: boolean,\n\t// Intentionally do not pass in the new value\n\t// so that it must be read out of `module.options[key].value`\n\t// for easier grepping (and to enforce stricter types where possible).\n\tonChange?: () => void,\n|};\n\nexport type BooleanOption<Ctx> = {|\n\ttype: 'boolean',\n\tvalue: boolean,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TextOption<Ctx> = {|\n\ttype: 'text',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type EnumOption<Ctx> = {|\n\ttype: 'enum',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type KeycodeOption<Ctx> = {|\n\ttype: 'keycode',\n\tvalue: KeyArray,\n\t// special for keyboardNav\n\tgoMode?: boolean,\n\tcallback?: () => void,\n\tinclude?: Array<PageType | AppType | RegExp>,\n\trequiresModules?: Array<OpaqueModuleId>,\n\tmustBeLoggedIn?: boolean,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ListOption<Ctx> = {|\n\ttype: 'list',\n\tlistType: ListType,\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype ListType = 'subreddits';\n\nexport type SelectOption<Ctx> = {|\n\ttype: 'select',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle: string,\n\t}>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TableOption<Ctx, V: $ReadOnlyArray<any>> = {|\n\ttype: 'table',\n\taddRowText?: string,\n\tfields: TableField[],\n\tvalue: V[],\n\tsort?: (a: V, b: V) => number,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype TableField = HiddenField | TextField | BooleanField | ListField | PasswordField | KeycodeField | TextareaField | EnumField | ColorField | SelectField;\n\ntype HiddenField = {|\n\ttype: 'hidden',\n\tkey: string,\n\tname: string,\n\tvalue?: string,\n|};\n\ntype TextField = {|\n\ttype: 'text',\n\tkey: string,\n\tname: string,\n\tvalue?: string,\n|};\n\ntype BooleanField = {|\n\ttype: 'boolean',\n\tkey: string,\n\tname: string,\n\tvalue: boolean,\n|};\n\ntype ListField = {|\n\ttype: 'list',\n\tkey: string,\n\tname: string,\n\tlistType: ListType,\n|};\n\ntype PasswordField = {|\n\ttype: 'password',\n\tkey: string,\n\tname: string,\n|};\n\ntype KeycodeField = {|\n\ttype: 'keycode',\n\tkey: string,\n\tname: string,\n|};\n\ntype TextareaField = {|\n\ttype: 'textarea',\n\tkey: string,\n\tname: string,\n|};\n\ntype EnumField = {|\n\ttype: 'enum',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n|};\n\ntype ColorField = {|\n\ttype: 'color',\n\tkey: string,\n\tname: string,\n|};\n\ntype SelectField = {|\n\ttype: 'select',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle?: string,\n\t}>,\n|};\n\nexport type ButtonOption<Ctx> = {|\n\ttype: 'button',\n\ttext?: string | HTMLElement,\n\tcallback?: (() => Promise<void> | void) | string | { moduleID: string },\n\tvalues?: Array<{ text: $PropertyType<ButtonOption<Ctx>, 'text'>, callback: $PropertyType<ButtonOption<Ctx>, 'callback'> }>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ColorOption<Ctx> = {|\n\ttype: 'color',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderOption<Ctx> = {|\n\ttype: 'builder',\n\taddItemText: string,\n\tdefaultTemplate: () => BuilderRootValue,\n\tcases: { [string]: BuilderCase<*> },\n\tvalue: BuilderRootValue[],\n\tcustomOptionsFields: Array<Array<BuilderField | string>>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderRootValue = {|\n\tnote: string,\n\tver: number,\n\tid: string,\n\tbody: BuilderValue,\n\topts?: {\n\t\t[string]: mixed,\n\t\t// Some typed (reserved) values in order to simplify type checking\n\t\tname?: string,\n\t},\n|};\n\nexport type BuilderValue = {\n\ttype: string,\n\t[string]: any,\n};\n\ntype BuilderCase = {\n\ttext: string,\n\tfields: Array<BuilderField | string>,\n};\n\ntype BuilderField = BuilderSelectField | BuilderMultiField | BuilderDurationField | BuilderChecksetField | BuilderNumberField | BuilderCheckboxField | BuilderGenericInputField;\n\ntype PredefinedSelectChoice = 'COMPARISON';\n\ntype BuilderSelectField = {|\n\ttype: 'select',\n\toptions: Array<string | [string, string]> | PredefinedSelectChoice,\n\tid: string,\n|};\n\ntype BuilderMultiField = {|\n\ttype: 'multi',\n\tinclude: 'all',\n\tid: string,\n|};\n\ntype BuilderDurationField = {|\n\ttype: 'duration',\n\tid: string,\n|};\n\ntype BuilderChecksetField = {|\n\ttype: 'checkset',\n\titems: string[],\n\tid: string,\n|};\n\ntype BuilderNumberField = {|\n\ttype: 'number',\n\tid: string,\n|};\n\ntype BuilderCheckboxField = {|\n\ttype: 'check',\n\tid: string,\n\tlabel: string,\n|};\n\ntype BuilderGenericInputField = {|\n\ttype: string,\n\tid: string,\n|};\n","/* @flow */\n\nimport { Storage } from '../../environment';\nimport { getModuleId } from '../module';\nimport type { OpaqueModuleId } from '../module';\n\n// Don't batch in Firefox, as that may make the storage very slow on init\nexport const storage = Storage.wrapPrefix('RESoptions.', (): { [string]: any } => ({}), undefined, process.env.BUILD_TARGET !== 'firefox');\n\nexport const loadRaw = (moduleId: string) => storage.get(moduleId);\n\nexport async function get(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst options = await storage.get(getModuleId(opaqueId));\n\treturn options && options[optionKey];\n}\n\nexport async function getValue(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst option = await get(getModuleId(opaqueId), optionKey);\n\treturn option && option.value;\n}\n\nexport function set(opaqueId: OpaqueModuleId, optionKey: string, value: mixed) {\n\tif ((/_[\\d]+$/).test(optionKey)) {\n\t\toptionKey = optionKey.replace(/_[\\d]+$/, '');\n\t}\n\n\treturn storage.patch(getModuleId(opaqueId), { [optionKey]: { value } });\n}\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","/* @flow */\n\nimport { isEqual } from 'lodash-es';\nimport { Storage } from '../../environment';\nimport * as Options from '../options/storage';\n\nexport async function updateOption(moduleID: string, optionName: string, formerDefaultValue: mixed, valueOrFunction: mixed) {\n\ttry {\n\t\tconst option = await Options.get(moduleID, optionName);\n\t\t// If no value for this option is stored, it will always use the current default value\n\t\t// and so it doesn't need to be updated.\n\t\tif (!option) return;\n\n\t\t// Only update this option to the new default value if its current value\n\t\t// hasn't been changed from the former default value.\n\t\tif (!optionMatchesFormerDefaultValue(option, formerDefaultValue)) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(moduleID, optionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${moduleID}::${optionName} from`, formerDefaultValue, 'to/via', valueOrFunction, e);\n\t}\n}\n\nexport async function forceUpdateOption(moduleID: string, optionName: string, valueOrFunction: mixed) {\n\t// ☢ ☠ ☣  DANGER, WILL ROBINSON, DANGER ☠ ☣ ☢\n\t// Make sure valueOrFunction doesn't destroy user settings!\n\ttry {\n\t\tconst option = await Options.get(moduleID, optionName);\n\t\t// If no value for this option is stored, it will always use the current default value\n\t\t// and so it doesn't need to be updated.\n\t\tif (!option) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(moduleID, optionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${moduleID}::${optionName} to`, valueOrFunction, e);\n\t}\n}\n\nexport async function moveOption(oldModuleID: string, oldOptionName: string, newModuleID: string, newOptionName: string, valueOrFunction?: mixed) {\n\ttry {\n\t\tconst option = await Options.get(oldModuleID, oldOptionName);\n\t\t// If no value for this option is stored, it had been using the old default value\n\t\t// and so we do not need to change the new option, since it will also be using the default value.\n\t\tif (!option) return;\n\n\t\tconst newValue = updateValue(option.value, valueOrFunction);\n\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(newModuleID, newOptionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate ${oldModuleID}::${oldOptionName} to ${newModuleID}::${newOptionName} via`, valueOrFunction, e);\n\t}\n}\n\nexport async function moveStorageToOption(oldKey: string, newModuleID: string, newOptionName: string, valueOrFunction?: mixed) {\n\tconst oldValue = await Storage.get(oldKey);\n\n\tif (oldValue === null) {\n\t\treturn;\n\t}\n\n\tconst newValue = updateValue(oldValue, valueOrFunction);\n\n\ttry {\n\t\tif (typeof newValue !== 'undefined') {\n\t\t\tawait Options.set(newModuleID, newOptionName, newValue);\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(`Couldn't migrate storage ${oldKey} to ${newModuleID}::${newOptionName} via`, valueOrFunction, e);\n\t}\n}\n\n// This function compares a given option value to its \"former default\" -- the default\n// before an attempted migration. Options aren't always a string, so equivalency won't\n// work. Note that \"option\" needs to be the actual option object, NOT option.value.\nfunction optionMatchesFormerDefaultValue(option, formerDefaultValue) {\n\tif (!option) {\n\t\toption = {\n\t\t\ttype: 'legacy',\n\t\t\tvalue: undefined,\n\t\t};\n\t}\n\tconst oldValue = option.value;\n\n\t// keyCodes once customized also save metaKey in a 5th index, but we used\n\t// to not store the metakey, so they have a length of 4 by default. In order\n\t// to do a proper array comparison, we need the lengths to match, so if a\n\t// 5th element is not present, push false into the array.\n\tif (oldValue && (option.type === 'keycode') && (option.value.length === 4)) {\n\t\toldValue.push(false);\n\t}\n\n\t// Check if the oldValue differs from the former default value. If it doesn't,\n\t// then the user set something custom and we should honor that.\n\treturn isEqual(formerDefaultValue, oldValue);\n}\n\nfunction updateValue(oldValue, valueOrFunction) {\n\tif (typeof valueOrFunction === 'function') {\n\t\treturn valueOrFunction(oldValue);\n\t} else if (typeof valueOrFunction !== 'undefined') {\n\t\treturn valueOrFunction;\n\t} else {\n\t\treturn oldValue;\n\t}\n}\n","/* @flow */\n\nimport { takeRightWhile, isObject, mapKeys, uniqBy } from 'lodash-es';\nimport { Storage } from '../../environment';\nimport { forEachSeq } from '../../utils/array';\nimport { execRegexes } from '../../utils/location';\nimport * as Modules from '../modules/storage';\nimport * as Options from '../options/storage';\nimport * as Migrators from './migrators';\n\nconst migrations = [\n\t{\n\t\tversionNumber: 'legacyMigrators',\n\t\tasync go() {\n\t\t\t// userbarHider.beforeLoad()\n\t\t\tawait Migrators.moveStorageToOption('RESmodules.styleTweaks.userbarState', 'userbarHider', 'userbarState');\n\n\t\t\t// commentTools.migrateData()\n\t\t\tconst macroVersion = await Storage.get('RESmodules.commentTools.macroDataVersion');\n\t\t\tif (macroVersion === null || macroVersion === 0) {\n\t\t\t\t// In this case it is unmigrated or uncreated\n\t\t\t\tconst previewOptions = await Storage.get('RESoptions.commentPreview');\n\t\t\t\tif (previewOptions !== null) {\n\t\t\t\t\tif (typeof previewOptions.commentingAs !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'commentingAs', previewOptions.commentingAs.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.keyboardShortcuts !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'keyboardShortcuts', previewOptions.keyboardShortcuts.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.subredditAutocomplete !== 'undefined') {\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'subredditAutocomplete', previewOptions.subredditAutocomplete.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof previewOptions.macros !== 'undefined') {\n\t\t\t\t\t\tpreviewOptions.macros.value.forEach(macro => {\n\t\t\t\t\t\t\twhile (macro.length < 4) {\n\t\t\t\t\t\t\t\tmacro.push('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', previewOptions.macros.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (macroVersion === 1) {\n\t\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', macros =>\n\t\t\t\t\t(macros || []).map(macro => {\n\t\t\t\t\t\twhile (macro.length < 4) {\n\t\t\t\t\t\t\tmacro.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn macro;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// saveComments.loadSavedComments()\n\t\t\tconst storedComments = await Storage.get('RESmodules.saveComments.savedComments');\n\t\t\tif (Array.isArray(storedComments)) {\n\t\t\t\tconst newFormat = {};\n\t\t\t\tfor (const storedComment of storedComments) {\n\t\t\t\t\tconst urlSplit = storedComment.href.split('/');\n\t\t\t\t\tconst thisID = urlSplit[urlSplit.length - 1];\n\t\t\t\t\tnewFormat[thisID] = storedComment;\n\t\t\t\t}\n\t\t\t\tStorage.set('RESmodules.saveComments.savedComments', newFormat);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.0',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('betteReddit', 'searchSubredditByDefault', 'searchHelper', 'searchSubredditByDefault');\n\n\t\t\tawait Migrators.moveOption('styleTweaks', 'lightSwitch', 'nightMode', 'nightSwitch');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'lightOrDark', 'nightMode', 'nightModeOn', value => (value === 'dark'));\n\t\t\tawait Migrators.moveOption('styleTweaks', 'useSubredditStyleInDarkMode', 'nightMode', 'useSubredditStyles');\n\n\t\t\tawait Migrators.moveStorageToOption('RESmodules.styleTweaks.nightModeWhitelist', 'nightMode', 'subredditStylesWhitelist', value => {\n\t\t\t\ttry {\n\t\t\t\t\treturn JSON.parse(value || '').join(',');\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tconst userTags = await Storage.get('RESmodules.userTagger.tags') || {};\n\t\t\t\tupdateTagStorageCaseInsensitive(userTags);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not migrate user tags, please post this error to /r/RESissues', e);\n\t\t\t}\n\n\t\t\t// check for /r/ hack from when reddit changed its format and broke RES filters\n\t\t\tawait Migrators.forceUpdateOption('filteReddit', 'subreddits', subreddits =>\n\t\t\t\t(subreddits || []).map(subreddit => {\n\t\t\t\t\tconst check = subreddit[0];\n\t\t\t\t\tif (check.startsWith('/r/')) {\n\t\t\t\t\t\tsubreddit[0] = check.substr(3);\n\t\t\t\t\t}\n\t\t\t\t\treturn subreddit;\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tfunction updateTagStorageCaseInsensitive(tags) {\n\t\t\t\tconst usernames = Object.keys(tags);\n\n\t\t\t\tfor (const username of usernames) {\n\t\t\t\t\tconst lower = username.toLowerCase();\n\t\t\t\t\tif (lower === username) continue;\n\n\t\t\t\t\tconst destination = tags[lower] = tags[lower] || {};\n\t\t\t\t\tconst source = tags[username];\n\n\t\t\t\t\tif (source.votes) {\n\t\t\t\t\t\tdestination.votes = (parseInt(destination.votes, 10) || 0) + (parseInt(source.votes, 10) || 0);\n\t\t\t\t\t}\n\t\t\t\t\tif (source.color && (!destination.color || destination.color === 'none')) {\n\t\t\t\t\t\tdestination.color = source.color;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.tag) {\n\t\t\t\t\t\tdestination.tag = destination.tag ? `${destination.tag} | ` : '';\n\t\t\t\t\t\tdestination.tag += source.tag;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.ignore) {\n\t\t\t\t\t\tdestination.ignore = source.ignore;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (source.link) {\n\t\t\t\t\t\tif (destination.link) {\n\t\t\t\t\t\t\tdestination.tag = destination.tag ? `${destination.tag} | ` : '';\n\t\t\t\t\t\t\tdestination.tag += source.link;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdestination.link = source.link;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete tags[username]; // safe because of \"lower === username.toLowerCase\" guard above\n\t\t\t\t}\n\n\t\t\t\tStorage.set('RESmodules.userTagger.tags', tags);\n\t\t\t\tStorage.set('RESmodules.userTagger.casefix', true);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.2',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveUp', [38, false, false, true, false], [38, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveDown', [40, false, false, true, false], [40, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveLeft', [37, false, false, true, false], [37, false, true, false, false]);\n\t\t\tawait Migrators.updateOption('keyboardNav', 'imageMoveRight', [39, false, false, true, false], [39, false, true, false, false]);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.0.3',\n\t\tgo() {\n\t\t\t// Token migration for the benefit of developers or people running bleeding-edge\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.1',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('voteEnhancements', 'colorCommentScore', value => {\n\t\t\t\t// v4.5.0.2 (fresh installs) onwards have the correct default value\n\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\t// 4.5.0.1 migration\n\t\t\t\treturn value ? 'automatic' : 'none';\n\t\t\t});\n\n\t\t\tconst notificationsOptions = await Options.loadRaw('notifications');\n\t\t\tconst sticky = notificationsOptions && notificationsOptions.sticky.value;\n\t\t\tconst keyNavOptions = await Options.loadRaw('keyboardNav');\n\t\t\tconst fg = keyNavOptions && keyNavOptions.focusFGColorNight.value;\n\t\t\tconst bg = keyNavOptions && keyNavOptions.focusBGColorNight.value;\n\t\t\tconst test = document.createElement('div');\n\n\t\t\t// perNotification may have only been present in dev releases, but check for it and update as it's\n\t\t\t// no longer a valid option.\n\t\t\tif (sticky === 'perNotification') {\n\t\t\t\tawait Migrators.forceUpdateOption('notifications', 'sticky', 'notificationType');\n\t\t\t}\n\n\t\t\t// If night mode focus foreground color === night mode focus background color,\n\t\t\t// force them back to new defaults.\n\t\t\t//\n\t\t\t// Since it may be rgba or hex and we're not sure, let's do something clever to\n\t\t\t// make sure we can compare the colors.\n\t\t\ttest.style.color = fg || '';\n\t\t\ttest.style.backgroundColor = bg || '';\n\t\t\tconst fgCalculated = test.style.color;\n\t\t\tconst bgCalculated = test.style.backgroundColor;\n\t\t\tif ((fg === bg) || (fgCalculated === bgCalculated)) {\n\t\t\t\tawait Migrators.forceUpdateOption('keyboardNav', 'focusBGColorNight', '#373737');\n\t\t\t\tawait Migrators.forceUpdateOption('keyboardNav', 'focusFGColorNight', '#DDDDDD');\n\t\t\t}\n\n\t\t\t// Show all options for all users\n\t\t\tawait Migrators.moveOption('settingsNavigation', 'showAdvancedOptions', 'settingsNavigation', 'showAllOptions', true);\n\t\t\tawait Migrators.moveOption('settingsNavigation', 'showAdvancedOptionsAlert', 'settingsNavigation', 'showAllOptionsAlert');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.3',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('searchHelper', 'addSubmitButton', true, false);\n\t\t\tawait Migrators.moveOption('keyboardNav', 'save', 'keyboardNav', 'savePost');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'save', 'keyboardNav', 'saveRES');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.4',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('filteReddit', 'keywords', values => {\n\t\t\t\tfor (const value of values || []) {\n\t\t\t\t\tif (value && value[3] === 'undefined') {\n\t\t\t\t\t\tvalue[3] = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t});\n\t\t\tawait Migrators.updateOption('quickMessage', 'quickModeratorMessage', false, true);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.5.5',\n\t\tasync go() {\n\t\t\tconst keyNavOptions = await Options.loadRaw('keyboardNav');\n\t\t\tif (keyNavOptions && keyNavOptions.scrollTop && keyNavOptions.scrollTop.value) {\n\t\t\t\tawait Migrators.updateOption('keyboardNav', 'scrollStyle', 'directional', 'top');\n\t\t\t}\n\t\t\tawait Migrators.moveOption('betteReddit', 'uncheckSendRepliesToInbox', 'submitHelper', 'uncheckSendRepliesToInbox');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'openBigEditor', 'commentPreview', 'openBigEditor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'autoSelectOnScroll', 'selectedEntry', 'autoSelectOnScroll');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'clickFocus', 'selectedEntry', 'selectOnClick');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'addFocusBGColor', 'selectedEntry', 'addFocusBGColor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBGColor', 'selectedEntry', 'focusBGColor');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBGColorNight', 'selectedEntry', 'focusBGColorNight');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusFGColorNight', 'selectedEntry', 'focusFGColorNight');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'addFocusBorder', 'selectedEntry', 'addFocusBorder');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBorder', 'selectedEntry', 'focusBorder');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'focusBorderNight', 'selectedEntry', 'focusBorderNight');\n\n\t\t\tfunction updateFadeSpeed(value) {\n\t\t\t\tif (value === undefined || value === null || isNaN(value) || value < 0 || value > 1) {\n\t\t\t\t\treturn '0.7';\n\t\t\t\t} else {\n\t\t\t\t\treturn (1 - value).toFixed(2);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeSpeed', updateFadeSpeed);\n\t\t\tawait Migrators.forceUpdateOption('userTagger', 'fadeSpeed', updateFadeSpeed);\n\n\t\t\tawait Migrators.forceUpdateOption('commentTools', 'macros', value =>\n\t\t\t\t[\n\t\t\t\t\t['reddiquette', '[reddiquette](/wiki/reddiquette) '],\n\t\t\t\t\t['Promote RES', '[Reddit Enhancement Suite](https://redditenhancementsuite.com \"also /r/Enhancement\") '],\n\t\t\t\t\t['Current timestamp', '{{now}} '],\n\t\t\t\t\t...(value || []),\n\t\t\t\t],\n\t\t\t);\n\n\t\t\tawait Migrators.moveOption('betteReddit', 'showUnreadCount', 'orangered', 'showUnreadCount');\n\t\t\tawait Migrators.moveOption('betteReddit', 'retroUnreadCount', 'orangered', 'retroUnreadCount');\n\t\t\tawait Migrators.moveOption('betteReddit', 'showUnreadCountInFavicon', 'orangered', 'showUnreadCountInFavicon');\n\t\t\tawait Migrators.moveOption('betteReddit', 'unreadLinksToInbox', 'orangered', 'unreadLinksToInbox');\n\t\t\tawait Migrators.moveOption('betteReddit', 'hideModMail', 'orangered', 'hideModMail');\n\n\t\t\tawait Migrators.moveOption('quickMessage', 'quickModeratorMessage', 'quickMessage', 'handleSideLinks');\n\n\t\t\tawait Migrators.updateOption('showKarma', 'useCommas', false, true);\n\n\t\t\tawait Migrators.moveOption('keyboardNav', 'moveDown', 'keyboardNav', 'moveDownComment');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'moveUp', 'keyboardNav', 'moveUpComment');\n\n\t\t\tawait Migrators.moveOption('userTagger', 'hoverInfo', 'userInfo', 'hoverInfo');\n\t\t\tawait Migrators.moveOption('userTagger', 'useQuickMessage', 'userInfo', 'useQuickMessage');\n\t\t\tawait Migrators.moveOption('userTagger', 'hoverDelay', 'userInfo', 'hoverDelay');\n\t\t\tawait Migrators.moveOption('userTagger', 'fadeDelay', 'userInfo', 'fadeDelay');\n\t\t\tawait Migrators.moveOption('userTagger', 'fadeSpeed', 'userInfo', 'fadeSpeed');\n\t\t\tawait Migrators.moveOption('userTagger', 'gildComments', 'userInfo', 'gildComments');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightButton', 'userInfo', 'highlightButton');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightColor', 'userInfo', 'highlightColor');\n\t\t\tawait Migrators.moveOption('userTagger', 'highlightColorHover', 'userInfo', 'highlightColorHover');\n\t\t\tawait Migrators.moveOption('userTagger', 'USDateFormat', 'userInfo', 'USDateFormat');\n\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'notificationTypes', rows =>\n\t\t\t\tuniqBy(rows, ([modId, notificationId]) => `${modId}###${notificationId}`),\n\t\t\t);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-scrubCaches',\n\t\tasync go() {\n\t\t\t// Trailing '.' on some keys is important\n\t\t\tconst cacheKeyParts = [\n\t\t\t\t'RESmodules.neverEndingReddit.lastPage',\n\t\t\t\t'RESmodules.neverEndingReddit.lastVisibleIndex',\n\t\t\t\t'RESUtils.cache',\n\t\t\t\t'RESUtils.moderatedSubCache',\n\t\t\t\t'RESUtils.sendFromCache',\n\t\t\t\t'RESUtils.userInfoCache',\n\t\t\t\t'RESmodules.keyboardNavLastIndex',\n\t\t\t\t'RESmodules.selectedThing.lastSelectedCache',\n\t\t\t\t'TBCache.', // may have been copied from foreground\n\t\t\t\t'Toolbox.',\n\t\t\t\t'RESmodules.betteReddit.msgCount.lastCheck',\n\t\t\t\t'RESmodules.subredditManager.subreddits.',\n\t\t\t\t'RESmodules.subredditManager.mySubredditList',\n\t\t\t];\n\n\t\t\tawait (await Storage.keys())\n\t\t\t\t.filter(key => cacheKeyParts.some(part => key.includes(part)))\n\t\t\t\t.map(key => Storage.delete(key));\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-voteWeight',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('userTagger', 'colorUser', 'userTagger', 'trackVoteWeight');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-commentStyle',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentBoxes', 'commentStyle', 'commentBoxes');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentRounded', 'commentStyle', 'commentRounded');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentHoverBorder', 'commentStyle', 'commentHoverBorder');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'commentIndent', 'commentStyle', 'commentIndent');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'continuity', 'commentStyle', 'continuity');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-keyboardNav-scrollStyle-better-name',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'scrollStyle', 'keyboardNav', 'linearScrollStyle');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-hideLEC',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('singleClick', 'hideLEC', false, true);\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.0-showImages-siteModuleIDs',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'display uploadly', 'showImages', 'display_uploadly');\n\t\t\tawait Migrators.moveOption('showImages', 'display eroshare', 'showImages', 'display_eroshare');\n\t\t\tawait Migrators.moveOption('showImages', 'display iLoopit - gif maker', 'showImages', 'display_iloopit');\n\t\t\tawait Migrators.moveOption('showImages', 'display Coub', 'showImages', 'display_coub');\n\t\t\tawait Migrators.moveOption('showImages', 'display LiveCap', 'showImages', 'display_livecap');\n\t\t\tawait Migrators.moveOption('showImages', 'display twitter', 'showImages', 'display_twitter');\n\t\t\tawait Migrators.moveOption('showImages', 'display futurism', 'showImages', 'display_futurism');\n\t\t\tawait Migrators.moveOption('showImages', 'display gfycat', 'showImages', 'display_gfycat');\n\t\t\tawait Migrators.moveOption('showImages', 'display gifyoutube', 'showImages', 'display_gifs');\n\t\t\tawait Migrators.moveOption('showImages', 'display vidble', 'showImages', 'display_vidble');\n\t\t\tawait Migrators.moveOption('showImages', 'display fitbamob', 'showImages', 'display_fitbamob');\n\t\t\tawait Migrators.moveOption('showImages', 'display giflike', 'showImages', 'display_giflike');\n\t\t\tawait Migrators.moveOption('showImages', 'display CtrlV.in', 'showImages', 'display_ctrlv');\n\t\t\tawait Migrators.moveOption('showImages', 'display snag.gy', 'showImages', 'display_snag');\n\t\t\tawait Migrators.moveOption('showImages', 'display picshd', 'showImages', 'display_picshd');\n\t\t\tawait Migrators.moveOption('showImages', 'display min.us', 'showImages', 'display_minus');\n\t\t\tawait Migrators.moveOption('showImages', 'display fiveHundredPx', 'showImages', 'display_fiveHundredPx');\n\t\t\tawait Migrators.moveOption('showImages', 'display flickr', 'showImages', 'display_flickr');\n\t\t\tawait Migrators.moveOption('showImages', 'display steam', 'showImages', 'display_steam');\n\t\t\tawait Migrators.moveOption('showImages', 'display deviantART', 'showImages', 'display_deviantart');\n\t\t\tawait Migrators.moveOption('showImages', 'display tumblr', 'showImages', 'display_tumblr');\n\t\t\tawait Migrators.moveOption('showImages', 'display memecrunch', 'showImages', 'display_memecrunch');\n\t\t\tawait Migrators.moveOption('showImages', 'display imgflip', 'showImages', 'display_imgflip');\n\t\t\tawait Migrators.moveOption('showImages', 'display livememe', 'showImages', 'display_livememe');\n\t\t\tawait Migrators.moveOption('showImages', 'display makeameme', 'showImages', 'display_makeameme');\n\t\t\tawait Migrators.moveOption('showImages', 'display memegen', 'showImages', 'display_memegen');\n\t\t\tawait Migrators.moveOption('showImages', 'display redditbooru', 'showImages', 'display_redditbooru');\n\t\t\tawait Migrators.moveOption('showImages', 'display youtube', 'showImages', 'display_youtube');\n\t\t\tawait Migrators.moveOption('showImages', 'display vimeo', 'showImages', 'display_vimeo');\n\t\t\tawait Migrators.moveOption('showImages', 'display soundcloud', 'showImages', 'display_soundcloud');\n\t\t\tawait Migrators.moveOption('showImages', 'display clyp', 'showImages', 'display_clyp');\n\t\t\tawait Migrators.moveOption('showImages', 'display memedad', 'showImages', 'display_memedad');\n\t\t\tawait Migrators.moveOption('showImages', 'display ridewithgps', 'showImages', 'display_ridewithgps');\n\t\t\tawait Migrators.moveOption('showImages', 'display photobucket', 'showImages', 'display_photobucket');\n\t\t\tawait Migrators.moveOption('showImages', 'display giphy', 'showImages', 'display_giphy');\n\t\t\tawait Migrators.moveOption('showImages', 'display streamable', 'showImages', 'display_streamable');\n\t\t\tawait Migrators.moveOption('showImages', 'display qwipit', 'showImages', 'display_qwipit');\n\t\t\tawait Migrators.moveOption('showImages', 'display radd.it', 'showImages', 'display_raddit');\n\t\t\tawait Migrators.moveOption('showImages', 'display pastebin', 'showImages', 'display_pastebin');\n\t\t\tawait Migrators.moveOption('showImages', 'display github gists', 'showImages', 'display_github');\n\t\t\tawait Migrators.moveOption('showImages', 'display Microsoft OneDrive', 'showImages', 'display_onedrive');\n\t\t\tawait Migrators.moveOption('showImages', 'display Oddshot', 'showImages', 'display_oddshot');\n\t\t\tawait Migrators.moveOption('showImages', 'display Miiverse', 'showImages', 'display_miiverse');\n\t\t\tawait Migrators.moveOption('showImages', 'display swirl', 'showImages', 'display_swirl');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.1-changeDefaultImageMaxSizeRetry',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('showImages', 'maxWidth', 640, '100%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxHeight', 480, '80%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxWidth', '640', '100%');\n\t\t\tawait Migrators.updateOption('showImages', 'maxHeight', '480', '80%');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.4-galleryFilmstripGranularity',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'dontLoadAlbumsBiggerThan', 'showImages', 'filmstripLoadIncrement');\n\t\t},\n\t}, {\n\t\tversionNumber: '4.7.8-ner-hide-dupes',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('neverEndingReddit', 'hideDupes', 'fade', 'hide');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.0.1-disable-redditmedia-lookup',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'expandoCommentRedirects', 'nothing');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.0.2-reenable-redditmedia-expando',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('showImages', 'expandoCommentRedirects', 'nothing', 'expando');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.1.1-remove-multiredditnavbar-sectionlinks-workaround',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'sectionLinks', sectionLinks => {\n\t\t\t\tif (!sectionLinks) return;\n\t\t\t\tfor (const row of sectionLinks) {\n\t\t\t\t\trow[1] = row[1].replace(/^\\.\\.\\//, './');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.1-enable-hardIgnore',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('userTagger', 'hardIgnore', true);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.5-remove-updates-css',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'loadStylesheets', rows =>\n\t\t\t\trows && rows.filter(row => row[0] !== 'https://cdn.redditenhancementsuite.com/updates.css'),\n\t\t\t);\n\n\t\t\tconst hideFloatingPauseButton = 'res-neverEndingReddit-hideFloatingPauseButton';\n\t\t\tawait Migrators.moveOption('stylesheet', 'bodyClasses', 'neverEndingReddit', 'showPauseButton', rows =>\n\t\t\t\t!!rows && rows.every(row => row[0] !== hideFloatingPauseButton),\n\t\t\t);\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'bodyClasses', rows =>\n\t\t\t\trows && rows.filter(row => row[0] !== hideFloatingPauseButton),\n\t\t\t);\n\n\t\t\tlet shouldHideTagline = false;\n\t\t\tawait Migrators.forceUpdateOption('stylesheet', 'bodyClasses', rows => {\n\t\t\t\tif (!rows) return [];\n\t\t\t\tconst filteredRows = rows.filter(row => row[0] !== 'res-hide-tagline-frontpage');\n\t\t\t\tshouldHideTagline = filteredRows.length < rows.length;\n\t\t\t\treturn filteredRows;\n\t\t\t});\n\t\t\tif (shouldHideTagline) {\n\t\t\t\tMigrators.forceUpdateOption('stylesheet', 'snippets', rows => [\n\t\t\t\t\t...(rows || []),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/* migrated from res-hide-tagline-frontpage */ .front-page .tagline { display: none; }',\n\t\t\t\t\t\t'everywhere',\n\t\t\t\t\t],\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.6-enable-hideUnvotable',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('styleTweaks', 'hideUnvotable', true);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.3.7-automaticNightMode-to-enum',\n\t\tasync go() {\n\t\t\tawait Migrators.forceUpdateOption('nightMode', 'automaticNightMode', value => (value === true) ? 'user' : 'none');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.0-commentLinks-rename',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNumbers', 'keyboardNav', 'linkNumbers');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNumberPosition', 'keyboardNav', 'linkNumberPosition');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkToggleExpando', 'keyboardNav', 'linkToggleExpando');\n\t\t\tawait Migrators.moveOption('keyboardNav', 'commentsLinkNewTab', 'keyboardNav', 'linkNewTab');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.1-maxSize-to-string',\n\t\tasync go() {\n\t\t\tconst toString = x => (x ? String(x) : '');\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxWidth', toString);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxHeight', toString);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.3-disable-userbarHider',\n\t\tasync go() {\n\t\t\tconst notificationsOptions = await Options.loadRaw('notifications');\n\t\t\tif (!notificationsOptions ||\n\t\t\t\t!notificationsOptions.notificationTypes ||\n\t\t\t\t!notificationsOptions.notificationTypes.value ||\n\t\t\t\t!notificationsOptions.notificationTypes.value.some(([modId, notificationId]) => modId === 'userbarHider' && notificationId === 'userbarState')) {\n\t\t\t\t// user has never toggled userbarHider, disable it\n\t\t\t\tModules.setEnabled('userbarHider', false);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.5.11-update-notifications',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('onboarding', 'updateNotification', 'releaseNotes', 'notification');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.6.1-shard-tags',\n\t\tasync go() {\n\t\t\tconst tags = await Storage.get('RESmodules.userTagger.tags') || {};\n\t\t\tconst remappedTags = mapKeys(tags, (v, k) => `tag.${k.toLowerCase()}`);\n\t\t\tawait Storage.setMultiple(remappedTags);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.6.2-remove-old-tags',\n\t\tasync go() {\n\t\t\tawait Storage.delete('RESmodules.userTagger.tags');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.0-keyboardNav-showImages-decoupling',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('keyboardNav', 'mediaBrowseMode', 'showImages', 'mediaBrowse');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.1-shard-newCommentCount',\n\t\tasync go() {\n\t\t\tconst entries = await Storage.get('RESmodules.newCommentCount.counts') || {};\n\t\t\tconst remappedEntries = mapKeys(entries, (v, k) => `newCommentCount.${k}`);\n\t\t\tawait Storage.setMultiple(remappedEntries);\n\t\t\tawait Storage.delete('RESmodules.newCommentCount.counts');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.3-commandLine-menu-opening',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('commandLine', 'launchFromMenuButton', 'RESMenu', 'gearIconClickAction', launchFromMenu =>\n\t\t\t\tlaunchFromMenu ? 'openCommandLine' : 'toggleMenuNoHover',\n\t\t\t);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.7.4-shard-commentHidePersistor',\n\t\tasync go() {\n\t\t\tconst { hiddenThings } = await Storage.get('RESmodules.commentHidePersistor.hidePersistor') || {};\n\t\t\tif (!hiddenThings) return;\n\t\t\tconst remappedEntries = Object.entries(hiddenThings).reduce((acc, [k, v]) => {\n\t\t\t\tconst page = (execRegexes.comments(k) || [])[2];\n\t\t\t\tconst collapsedThings = v.reduce((acc, k) => (acc[k] = true) && acc, {});\n\t\t\t\tif (page && v.length) acc[`commentHidePersistor.${page}`] = { updateTime: Date.now(), collapsedThings };\n\t\t\t\treturn acc;\n\t\t\t}, {});\n\t\t\tawait Storage.setMultiple(remappedEntries);\n\t\t\tawait Storage.delete('RESmodules.commentHidePersistor.hidePersistor');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.8.2-unshard-newCommentCount-subscriptions',\n\t\tasync go() {\n\t\t\tconst subscriptions = {};\n\t\t\tfor (const [key, val] of Object.entries(await Storage.getAll())) {\n\t\t\t\tif (!key.startsWith('newCommentCount.')) continue;\n\t\t\t\tif ((val: any).subscriptionDate) subscriptions[key] = val;\n\t\t\t\t// don't bother deleting it; it's still valid for comment count storage\n\t\t\t\t// and it'll eventually be pruned as with any count\n\t\t\t}\n\t\t\tStorage.set('RESmodules.newCommentCount.subscriptions', subscriptions);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.1-userTagger-refresh',\n\t\tasync go() {\n\t\t\tlet tags = await Storage.wrapPrefix('tag.', (): any => ({})).getAll();\n\t\t\tfor (const tag of Object.values(tags)) {\n\t\t\t\tif (tag.votes > 0) tag.votesUp = tag.votes;\n\t\t\t\tif (tag.votes < 0) tag.votesDown = -tag.votes;\n\t\t\t\tReflect.deleteProperty(tag, 'votes');\n\t\t\t\tif (tag.tag) tag.text = tag.tag;\n\t\t\t\tReflect.deleteProperty(tag, 'tag');\n\t\t\t\tif (tag.ignore) tag.ignored = tag.ignore;\n\t\t\t\tReflect.deleteProperty(tag, 'ignore');\n\t\t\t}\n\t\t\ttags = mapKeys(tags, (v, k) => `tag.${k}`); // Restore prefix\n\t\t\tawait Storage.setMultiple(tags);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.1-selectedEntry',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('selectedEntry', 'addFocusBGColor', 'selectedEntry', 'setColors');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBGColor', 'selectedEntry', 'backgroundColor');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBGColorNight', 'selectedEntry', 'backgroundColorNight');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusFGColorNight', 'selectedEntry', 'textColorNight');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'addFocusBorder', 'selectedEntry', 'addOutline');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBorder', 'selectedEntry', 'outlineStyle');\n\t\t\tawait Migrators.moveOption('selectedEntry', 'focusBorderNight', 'selectedEntry', 'outlineStyleNight');\n\n\t\t\tif ((await Storage.get('RES.modulePrefs') || { selectedEntry: true }).selectedEntry === false) {\n\t\t\t\tawait Options.set('selectedEntry', 'setColors', false);\n\t\t\t\tawait Options.set('selectedEntry', 'addLine', true);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9-no-option-spaces',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('showImages', 'prefer RES albums', 'showImages', 'preferResAlbums');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9.2-numbers-to-strings',\n\t\tasync go() {\n\t\t\tfunction stringify(x) {\n\t\t\t\tif (typeof x === 'number') return x.toString();\n\t\t\t\treturn x;\n\t\t\t}\n\n\t\t\tawait Migrators.forceUpdateOption('betteReddit', 'hideLinkFadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentDepth', 'defaultCommentDepth', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentDepth', 'defaultMinimumComments', stringify);\n\t\t\tawait Migrators.forceUpdateOption('commentStyle', 'commentIndent', stringify);\n\t\t\tawait Migrators.forceUpdateOption('context', 'defaultContext', stringify);\n\t\t\tawait Migrators.forceUpdateOption('dashboard', 'defaultPosts', stringify);\n\t\t\tawait Migrators.forceUpdateOption('dashboard', 'tagsPerPage', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'openDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('hover', 'width', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('messageMenu', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('multiredditNavbar', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('neverEndingReddit', 'pauseAfterEvery', stringify);\n\t\t\tawait Migrators.forceUpdateOption('newCommentCount', 'cleanComments', stringify);\n\t\t\tawait Migrators.forceUpdateOption('newCommentCount', 'subscriptionLength', stringify);\n\t\t\tawait Migrators.forceUpdateOption('nightMode', 'nightModeOverrideHours', stringify);\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'closeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('notifications', 'fadeOutLength', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('profileNavigator', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'browsePreloadCount', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'galleryPreloadCount', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'bufferScreens', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'selfTextMaxHeight', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'commentMaxHeight', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'filmstripLoadIncrement', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'useSlideshowWhenLargerThan', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showImages', 'maxSimultaneousPlaying', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('showParent', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('styleTweaks', 'highlightTopLevelSize', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditInfo', 'fadeSpeed', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditManager', 'shortcutDropdownDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('subredditManager', 'shortcutEditDropdownDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'hoverDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'fadeDelay', stringify);\n\t\t\tawait Migrators.forceUpdateOption('userInfo', 'fadeSpeed', stringify);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.9-filteReddit-customFilter',\n\t\tasync go() {\n\t\t\tfunction convertPatt(type, patt, key) {\n\t\t\t\tif (typeof patt !== 'string' || !patt.length || (/^\\/(.*)\\/([gim]+)?$/).test(patt)) return;\n\t\t\t\tif (type === 'postTitle') {\n\t\t\t\t\treturn { [key]: `/${patt}/i` };\n\t\t\t\t} else if (['subreddit', 'domain', 'userFlair', 'linkFlair', 'username'].includes(type)) {\n\t\t\t\t\treturn { [key]: `/^(${patt})\\$/i` };\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst entries = {};\n\t\t\tconst f = await Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({})).getAll();\n\t\t\tfor (const [k, v] of Object.entries(f)) {\n\t\t\t\tif (typeof v === 'boolean') continue; // `filterlineVisibility` entries\n\t\t\t\tconst visible = f[`filterlineVisibility.${k}`] || false;\n\t\t\t\tconst entry = entries[`filterline.${k}`] = { filters: {}, visible };\n\t\t\t\tfor (const [id, { criterion, state, key }] of Object.entries(v.filters || {})) {\n\t\t\t\t\tconst type = key;\n\t\t\t\t\tentry.filters[id] = { type, state, criterion, ...convertPatt(type, criterion, 'criterion') };\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait Storage.setMultiple(entries);\n\n\t\t\tconst { customFilters } = await Options.loadRaw('filteReddit') || {};\n\t\t\tif (customFilters) {\n\t\t\t\tfor (const { body } of (customFilters.value || [])) {\n\t\t\t\t\tbody.of.forEach(function traverseAndUpdate(v) {\n\t\t\t\t\t\tif (v.type === 'group') v.of.forEach(traverseAndUpdate);\n\t\t\t\t\t\telse Object.assign(v, convertPatt(v.type, v.patt, 'patt'));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tawait Options.set('filteReddit', 'customFiltersP', customFilters.value);\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.11.1-settingsConsole-builder-tweak',\n\t\tasync go() {\n\t\t\tconst { customFiltersP, customFiltersC } = await Options.loadRaw('filteReddit') || {};\n\t\t\tlet i = Date.now();\n\t\t\tfor (const v of [...((customFiltersP && customFiltersP.value) || []), ...((customFiltersC && customFiltersC.value) || [])]) {\n\t\t\t\tconst { body: { name }, ondemand } = v;\n\t\t\t\tv.opts = { ondemand, name };\n\t\t\t\tv.id = `customFilter-${String(i++)}`;\n\t\t\t\t// The trash values will be ignored by the builder, so no need to remove them\n\t\t\t}\n\t\t\tif (customFiltersP)\tawait Options.set('filteReddit', 'customFiltersP', customFiltersP.value);\n\t\t\tif (customFiltersC)\tawait Options.set('filteReddit', 'customFiltersC', customFiltersC.value);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.13.3-userTagger-ignored-to-filteReddit',\n\t\tasync go() {\n\t\t\tconst ignoredUsers = Object.entries(await Storage.wrapPrefix('tag.', (): any => ({})).getAll())\n\t\t\t\t.filter(([, { ignored }]) => ignored)\n\t\t\t\t.map(([username]) => [username]);\n\t\t\tawait Options.set('filteReddit', 'users', ignoredUsers);\n\t\t},\n\t}, {\n\t\tversionNumber: '5.13.3-filterline-effects-and-clean',\n\t\tasync go() {\n\t\t\tfunction migrateFilters(filters = {}) {\n\t\t\t\tfor (const [id, filter] of Object.entries(filters)) {\n\t\t\t\t\tif (!isObject(filter)) {\n\t\t\t\t\t\tdelete filters[id];\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfilter.effects = { hide: filter.state !== null, ...filter.sideEffects };\n\t\t\t\t\tif (filter.state === null) filter.state = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet f = Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (k.startsWith('commentDefault') || k.startsWith('postDefault')) {\n\t\t\t\t\tmigrateFilters(v);\n\t\t\t\t\tawait f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tf = Storage.wrapPrefix('filterline.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (v) {\n\t\t\t\t\t// This migration may already have been invoked for this filterline in a previous (failed) migration\n\t\t\t\t\tif (v.effects) continue;\n\t\t\t\t\tmigrateFilters(v.filters);\n\t\t\t\t\tv.lastUsed = Date.now();\n\t\t\t\t\tawait f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.1-filteReddit-user-hardIgnore',\n\t\tasync go() { /* Moved to next migration since option was deleted */ },\n\t}, {\n\t\tversionNumber: '5.14.2-filteReddit-user-hide-soft',\n\t\tasync go() { /* Moved to later migration since option was heavily adjust */ },\n\t}, {\n\t\tversionNumber: '5.14.2-filteReddit-migration-repair',\n\t\tasync go() {\n\t\t\t// Due to uncareful (and slow) migration in 5.14.0, filterlines migrated may have been\n\t\t\t// started over multiple times, resulting in filters erronously activating.\n\t\t\t// This tries to undo that by detecting whether all filters have been enabled,\n\t\t\t// and setting `hide` back to false if that's the case\n\t\t\tfunction migrateRepair(filters): ?true {\n\t\t\t\tconst allHidden = filters.every(([, filter]) => filter.effects && Object.keys(filter.effects).length === 1 && filter.effects.hide);\n\t\t\t\tif (allHidden) {\n\t\t\t\t\tfor (const [id, filter] of filters) {\n\t\t\t\t\t\tif (['users', 'subreddits', 'keywords', 'domains', 'flair'].includes(id)) continue;\n\t\t\t\t\t\tfilter.effects = { hide: false };\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet f = Storage.wrapPrefix('RESmodules.filteReddit.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tif (migrateRepair(Object.entries(v))) await f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t}\n\n\t\t\tf = Storage.wrapPrefix('filterline.', (): any => ({}));\n\t\t\tfor (const [k, v] of Object.entries(await f.getAll())) {\n\t\t\t\tconst filters = v && v.filters && Object.entries(v.filters);\n\t\t\t\tif (filters && filters.length) {\n\t\t\t\t\tif (migrateRepair(filters)) await f.set(k, v); // eslint-disable-line no-await-in-loop\n\t\t\t\t} else {\n\t\t\t\t\tawait f.delete(k); // eslint-disable-line no-await-in-loop\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.3-filteReddit-user-action-collapse',\n\t\tasync go() {\n\t\t\tconst hardIgnoreOption = await Options.get('userTagger', 'hardIgnore') ||\n\t\t\t\tawait Options.get('filteReddit', 'hardIgnoreUsers');\n\n\t\t\tlet hardIgnore = hardIgnoreOption ? hardIgnoreOption.value : true;\n\n\t\t\t// The usersMatchAction option may have been manually set to placeholder after 5.14\n\t\t\tconst usersMatchAction = await Options.get('filteReddit', 'usersMatchAction');\n\t\t\tif (usersMatchAction && usersMatchAction.value === 'placeholder') hardIgnore = false;\n\n\t\t\tawait Options.set('filteReddit', 'usersMatchAction', hardIgnore ? 'hide' : 'placeholder');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.4-new-module-subredditStyleToggle',\n\t\tasync go() {\n\t\t\tawait Migrators.moveOption('styleTweaks', 'subredditStyleBrowserToolbarButton', 'subredditStyleToggle', 'browserToolbarButton');\n\t\t\tawait Migrators.moveOption('styleTweaks', 'subredditStyleCheckbox', 'subredditStyleToggle', 'checkbox');\n\t\t\tconst ignored = await Storage.get('RESmodules.styleTweaks.ignoredSubredditStyles');\n\t\t\tif (ignored) {\n\t\t\t\tawait Storage.set('RESmodules.subredditStyleToggle.ignored', ignored);\n\t\t\t\tawait Storage.delete('RESmodules.styleTweaks.ignoredSubredditStyles');\n\t\t\t}\n\t\t},\n\t}, {\n\t\tversionNumber: '5.14.4-prune-interface',\n\t\tasync go() {\n\t\t\tawait Migrators.updateOption('newCommentCount', 'cleanComments', '7', '30');\n\t\t\tawait Storage.delete('RESmodules.readComments.lastClean');\n\t\t\tawait Storage.delete('RESmodules.newCommentCount.lastClean');\n\t\t\tawait Storage.delete('RESmodules.commentHidePersistor.lastClean');\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-hover-instances-id',\n\t\tasync go() {\n\t\t\tconst instances = {};\n\t\t\tfor (const instance of await Options.getValue('hover', 'instances') || []) {\n\t\t\t\tconst id = instance[0] = instance[0].replace(/(dropdownList|infocard)\\./, '');\n\t\t\t\tif (!id || instances[id]) continue;\n\t\t\t\tinstances[id] = instance;\n\t\t\t}\n\n\t\t\tawait Options.set('hover', 'instances', Object.values(instances));\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-notifications',\n\t\tasync go() {\n\t\t\tStorage.delete('RESmodules.notifications.recent');\n\n\t\t\tconst instances = {};\n\t\t\tfor (const instance of await Options.getValue('notifications', 'notificationTypes') || []) {\n\t\t\t\tconst id = `${instance[0]}-${instance[1]}`;\n\t\t\t\tif (!id || instances[id]) continue;\n\t\t\t\tinstances[id] = [id, instance[2], instance[3]];\n\t\t\t}\n\n\t\t\tawait Options.set('notifications', 'notificationTypes', Object.values(instances));\n\t\t},\n\t}, {\n\t\tversionNumber: '5.17.0-firstRun-to-last',\n\t\tasync go() {\n\t\t\tconst firstRunStorage = Storage.wrapPrefix('RES.firstRun.', () => (null: null | boolean));\n\t\t\tconst versions = Object.keys(await firstRunStorage.getAll());\n\t\t\tversions.sort((a, b) => a.localeCompare(b, undefined, { numerical: true }));\n\t\t\tawait Storage.set('highestVersion', versions.slice(-1)[0] || null); await firstRunStorage.deleteMultiple(versions);\n\t\t},\n\t},\n\n]; // ^^ Add new migrations ^^\n\nconst _migrationsToRun = getMigrationsToRun();\n\nexport async function migrate() {\n\tconst migrations = await _migrationsToRun;\n\tif (!migrations.length) return;\n\n\tawait forEachSeq(migrations, async currentMigration => {\n\t\tconsole.log('Migratating', currentMigration.versionNumber);\n\t\tawait currentMigration.go();\n\t\t// Checkpoint, in case the next migration crashes\n\t\tStorage.set('RESOptionsVersion', currentMigration.versionNumber);\n\t});\n\n\tconsole.log('All remaining migrations completed.');\n}\n\nasync function getMigrationsToRun() {\n\tconst lastMigratedVersion = await getLastMigratedVersion();\n\n\t// false specifically; we want to run all migrations on `null`\n\tif (lastMigratedVersion === false) {\n\t\t// Set the migrated version to the current latest migration,\n\t\t// in case the above loop didn't run (i.e. on first install)\n\t\tStorage.set('RESOptionsVersion', migrations.slice(-1)[0].versionNumber);\n\t\treturn [];\n\t}\n\n\treturn takeRightWhile(migrations, ({ versionNumber }) => versionNumber !== lastMigratedVersion);\n}\n\n// Returns a string like \"4.5.0.1\" (the last migration run),\n// null (run all migrations), or false (do not run migrations)\nasync function getLastMigratedVersion(): Promise<string | null | false> {\n\tconst RESOptionsVersion = await Storage.get('RESOptionsVersion');\n\n\tif (typeof RESOptionsVersion === 'undefined') {\n\t\t// Error occured sometime in the past, abort\n\t\tconsole.warn('RESOptionsVersion was undefined');\n\t\treturn false;\n\t} else if (RESOptionsVersion !== null) {\n\t\t// Migration has run before; verify/sanitize the version number\n\t\tif ((/^\\d$/).test(RESOptionsVersion)) {\n\t\t\t// Legacy format: integer number\n\t\t\tconst legacyOptionVersionMapping = ['4.5.0.0', '4.5.0.1'];\n\t\t\treturn legacyOptionVersionMapping[RESOptionsVersion - 1];\n\t\t} else if (!migrations.map(m => m.versionNumber).includes(RESOptionsVersion)) {\n\t\t\t// Abort, abort! Probably downgraded\n\t\t\tconsole.warn(`Couldn't find a migration matching RESOptionsVersion = ${RESOptionsVersion}`);\n\t\t\treturn false;\n\t\t} else {\n\t\t\t// RESOptionsVersion is a valid migration version number\n\t\t\treturn RESOptionsVersion;\n\t\t}\n\t} else if (await Storage.has('RES.firstRun.4.5.0.2')) {\n\t\t// 4.5.0.2 bug: RESOptionsVersion was not set on fresh installs.\n\t\treturn '4.5.0.2';\n\t} else if (\n\t\tawait Storage.has('RES.firstRun.4.3.2.1') ||\n\t\tawait Storage.has('RES.firstRun.4.3.1.2') ||\n\t\tawait Storage.has('RES.firstRun.4.3.0.3') ||\n\t\tawait Storage.has('RES.firstRun.4.2.0.2') ||\n\t\tawait Storage.has('RES.firstRun.4.1.5')\n\t) {\n\t\t// Upgraded from old version to a version which supports migrations; run all migrations\n\t\treturn null;\n\t} else {\n\t\t// New install, no migrations necessary\n\t\treturn false;\n\t}\n}\n","/* @flow */\n\n// load environment listeners\nimport 'sibling-loader!./environment/background/ajax';\n\nimport { migrate } from './core/migrate';\n\nimport { addListener } from './environment/background/messaging';\n\nmigrate();\n\n// Restoring a backup may require migrations to be run\naddListener('runMigrations', migrate);\n"],"sourceRoot":""}